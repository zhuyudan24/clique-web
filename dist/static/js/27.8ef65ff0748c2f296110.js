webpackJsonp([27],{"0xDb":function(e,t,r){"use strict";r.d(t,"a",function(){return i});var o=r("ZLEe"),n=(r.n(o),r("hRKE")),i=(r.n(n),function(e){0})},"3Xzz":function(e,t,r){"use strict";var o=r("P9l9"),n=r("Ch4/"),i=r("0xDb"),s={name:"navpath",data:function(){return{projectName:"gic-clique",navpath:[{name:"首页",path:""},{name:"",path:""},{name:"",path:""}]}},props:{navtip:{type:Boolean,default:!1}},methods:{changeRoute:function(e){Object(i.a)(e),this.$router.push(e)},getNavPath:function(){var e=this,t={project:e.projectName,path:e.$route.path.split("/")[1]};Object(o.e)("/api-auth/get-current-memu-data",t).then(function(t){var r=t.data;if(0==r.errorCode)return r.result?(e.navpath=[],r.result.list&&r.result.list.length&&r.result.list.forEach(function(t,o){t.name=t.menuName,t.path="",o==r.result.list.length-1&&(t.path="/"+t.menuUrl),o>0&&e.navpath.push(t)}),void Object(i.a)("///>>>>",e.navpath)):void Object(i.a)("resData.result: ",r.result);n.a.errorMsg(r)}).catch(function(t){Object(i.a)(t),e.$message.error({duration:1e3,message:t.message})})}},mounted:function(){this.getNavPath()}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navwrap boxbttom"},[r("el-breadcrumb",{attrs:{separator:"/"}},[e._l(e.navpath,function(t,o){return[t.path?[r("el-breadcrumb-item",{key:o,attrs:{to:{path:t.path}},on:{click:function(r){return e.changeRoute(t.path)}}},[r("span",{staticClass:"el-breadcrumb__inner is-link",on:{click:function(r){return e.changeRoute(t.path)}}},[e._v(e._s(t.name))])])]:[r("el-breadcrumb-item",{key:o},[e._v(e._s(t.name))])]]})],2),e._v(" "),r("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]),e._v(" "),1==e.navtip?r("div",{staticClass:"navtip navmTop"},[r("i",{staticClass:"el-icon-info navtipcolor"}),e._v("变更导航个数，移动顺序，更换页面链接均需提交小程序审核后重新发布生效，其他变更立即生效。小程序审核请联系品牌项目经理。")]):e._e()],1)},staticRenderFns:[]};var l=r("C7Lr")(s,a,!1,function(e){r("pTUQ")},"data-v-320a30ce",null);t.a=l.exports},"6iV/":function(e,t,r){"use strict";var o=r("H9GB"),n=r("Ml8i"),i=r("qFr1");e.exports={formats:i,parse:n,stringify:o}},"Ch4/":function(e,t,r){"use strict";var o=r("Ip9M");r.n(o);t.a={errorMsg:function(e){var t=window.location.origin;if(t.indexOf("localhost")&&(t="http://gicdev.demogic.com"),0!=e.errorCode){if(401==e.errorCode)return window.location.href=t+"/gic-web/#/",!1;o.Message.error({duration:1e3,message:e.message})}}}},H9GB:function(e,t,r){"use strict";var o=r("JNAD"),n=r("qFr1"),i={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Date.prototype.toISOString,a={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return s.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,n,i,s,l,c,u,p,d,f,m){var h=t;if("function"==typeof c)h=c(r,h);else if(h instanceof Date)h=d(h);else if(null===h){if(i)return l&&!m?l(r,a.encoder):r;h=""}if("string"==typeof h||"number"==typeof h||"boolean"==typeof h||o.isBuffer(h))return l?[f(m?r:l(r,a.encoder))+"="+f(l(h,a.encoder))]:[f(r)+"="+f(String(h))];var v,b=[];if(void 0===h)return b;if(Array.isArray(c))v=c;else{var g=Object.keys(h);v=u?g.sort(u):g}for(var y=0;y<v.length;++y){var S=v[y];s&&null===h[S]||(b=Array.isArray(h)?b.concat(e(h[S],n(r,S),n,i,s,l,c,u,p,d,f,m)):b.concat(e(h[S],r+(p?"."+S:"["+S+"]"),n,i,s,l,c,u,p,d,f,m)))}return b};e.exports=function(e,t){var r=e,s=t?o.assign({},t):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!=typeof s.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===s.delimiter?a.delimiter:s.delimiter,u="boolean"==typeof s.strictNullHandling?s.strictNullHandling:a.strictNullHandling,p="boolean"==typeof s.skipNulls?s.skipNulls:a.skipNulls,d="boolean"==typeof s.encode?s.encode:a.encode,f="function"==typeof s.encoder?s.encoder:a.encoder,m="function"==typeof s.sort?s.sort:null,h=void 0!==s.allowDots&&s.allowDots,v="function"==typeof s.serializeDate?s.serializeDate:a.serializeDate,b="boolean"==typeof s.encodeValuesOnly?s.encodeValuesOnly:a.encodeValuesOnly;if(void 0===s.format)s.format=n.default;else if(!Object.prototype.hasOwnProperty.call(n.formatters,s.format))throw new TypeError("Unknown format option provided.");var g,y,S=n.formatters[s.format];"function"==typeof s.filter?r=(y=s.filter)("",r):Array.isArray(s.filter)&&(g=y=s.filter);var C,w=[];if("object"!=typeof r||null===r)return"";C=s.arrayFormat in i?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var _=i[C];g||(g=Object.keys(r)),m&&g.sort(m);for(var O=0;O<g.length;++O){var x=g[O];p&&null===r[x]||(w=w.concat(l(r[x],x,_,u,p,d?f:null,y,m,h,v,S,b)))}var D=w.join(c),k=!0===s.addQueryPrefix?"?":"";return D.length>0?k+D:""}},JNAD:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,n=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),i=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:i,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var n=t[o],i=n.obj[n.prop],s=Object.keys(i),a=0;a<s.length;++a){var l=s[a],c=i[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:i,prop:l}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],n=0;n<t.length;++n)void 0!==t[n]&&o.push(t[n]);r.obj[r.prop]=o}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",o=0;o<t.length;++o){var i=t.charCodeAt(o);45===i||46===i||95===i||126===i||i>=48&&i<=57||i>=65&&i<=90||i>=97&&i<=122?r+=t.charAt(o):i<128?r+=n[i]:i<2048?r+=n[192|i>>6]+n[128|63&i]:i<55296||i>=57344?r+=n[224|i>>12]+n[128|i>>6&63]+n[128|63&i]:(o+=1,i=65536+((1023&i)<<10|1023&t.charCodeAt(o)),r+=n[240|i>>18]+n[128|i>>12&63]+n[128|i>>6&63]+n[128|63&i])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,n){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(n.plainObjects||n.allowPrototypes||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var s=t;return Array.isArray(t)&&!Array.isArray(r)&&(s=i(t,n)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,i){o.call(t,i)?t[i]&&"object"==typeof t[i]?t[i]=e(t[i],r,n):t.push(r):t[i]=r}),t):Object.keys(r).reduce(function(t,i){var s=r[i];return o.call(t,i)?t[i]=e(t[i],s,n):t[i]=s,t},s)}}},Ml8i:function(e,t,r){"use strict";var o=r("JNAD"),n=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,s=/(\[[^[\]]*])/.exec(o),a=s?o.slice(0,s.index):o,l=[];if(a){if(!r.plainObjects&&n.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var c=0;null!==(s=i.exec(o))&&c<r.depth;){if(c+=1,!r.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(s[1])}return s&&l.push("["+o.slice(s.index)+"]"),function(e,t,r){for(var o=t,n=e.length-1;n>=0;--n){var i,s=e[n];if("[]"===s)i=(i=[]).concat(o);else{i=r.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(a,10);!isNaN(l)&&s!==a&&String(l)===a&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(i=[])[l]=o:i[a]=o}o=i}return o}(l,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:i.delimiter,r.depth="number"==typeof r.depth?r.depth:i.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:i.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:i.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:i.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:i.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:i.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:i.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:i.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var a="string"==typeof e?function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=o.split(t.delimiter,s),l=0;l<a.length;++l){var c,u,p=a[l],d=p.indexOf("]="),f=-1===d?p.indexOf("="):d+1;-1===f?(c=t.decoder(p,i.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(p.slice(0,f),i.decoder),u=t.decoder(p.slice(f+1),i.decoder)),n.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(a),u=0;u<c.length;++u){var p=c[u],d=s(p,a[p],r);l=o.merge(l,d,r)}return o.compact(l)}},P9l9:function(e,t,r){"use strict";r.d(t,"a",function(){return p}),r.d(t,"e",function(){return d}),r.d(t,"d",function(){return f}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return h});var o=r("rVsN"),n=r.n(o),i=r("lRwf"),s=r.n(i),a=r("6iV/"),l=r.n(a),c=r("Ip9M"),u=(r.n(c),window.location.origin);-1!=u.indexOf("localhost")&&(u="http://gicdev.demogic.com"),s.a.axios.interceptors.request.use(function(e){return e},function(e){return c.Message.error({message:"请求超时!"}),n.a.resolve(e)}),s.a.axios.interceptors.response.use(function(e){if(!e.status||200!=e.status||"error"!=e.data.status)return e;c.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status||e.response.status,n.a.resolve(e)});var p=function(e,t){return t.requestProject="gic-clique",s.a.axios({method:"get",url:""+u+e,data:{},params:t,headers:{"content-type":"application/x-www-form-urlencoded"}})},d=function(e,t){return t.requestProject="gic-clique",s.a.axios({method:"post",url:""+u+e,data:l.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}})},f=function(e,t){return t.requestProject="gic-clique",s.a.axios({method:"post",url:""+u+e,data:"{}",params:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})},m=function(e,t){return s.a.axios({method:"post",url:""+u+e,data:t,params:{requestProject:"gic-clique"},headers:{"Content-Type":"application/json;charset=UTF-8"}})},h=function(e,t){return t.requestProject="gic-clique",s.a.axios({method:"post",url:""+u+e,data:t,headers:{}})}},UN4n:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("3Xzz"),n=r("P9l9"),i={name:"brokerageRule",data:function(){return{settleRuleDTO:{commissionSettleId:"",openSms:!1,serviceStoreCommissionSettle:!1,serviceStoreGuideShareConstraint:!1,serviceStoreCommissionAmount:0,serviceStoreCommissionCap:0,openStoreCommissionSettle:!1,openStoreGuideShareConstraint:!1,openStoreCommissionAmount:0,whenNoServiceStore:[],whenServiceEqualOpenStore:[],openStoreCommissionCap:0,enterpriseBrandList:[]},dialogVisible:!1,editForm:{enterpriseName:"",settlementBrandName:""},enterpriseId:"",selectBrandBool:!0,popoverShow:!1,optionsAll:[],optionsAllNew:[],checkedList:[],searchBrand:"",loading:!1}},mounted:function(){this.getData(),this.getEnterpriseList()},methods:{getData:function(){var e=this;Object(n.e)("/api-admin/get-clique-commission-settle-rule",{}).then(function(t){var r=t.data;if(0==r.errorCode){if(r.result){var o=r.result;o.serviceStoreCommissionSettle=1==o.serviceStoreCommissionSettle,o.serviceStoreGuideShareConstraint=1==o.serviceStoreGuideShareConstraint,o.serviceStorePayMemberDistributionConstraint=1==o.serviceStorePayMemberDistributionConstraint,o.openStoreCommissionSettle=1==o.openStoreCommissionSettle,o.openStoreGuideShareConstraint=1==o.openStoreGuideShareConstraint,o.openStorePayMemberDistributionConstraint=1==o.openStorePayMemberDistributionConstraint,o.whenNoServiceStore=1==o.whenNoServiceStore?["0"]:[],o.whenServiceEqualOpenStore=1==o.whenServiceEqualOpenStore?["1"]:[],e.settleRuleDTO=o}}else e.$message.error(r.message)}).catch(function(e){console.log(e)})},belongRuleSave:function(){var e=this,t={commissionSettleId:this.settleRuleDTO.commissionSettleId,serviceStoreCommissionSettle:this.settleRuleDTO.serviceStoreCommissionSettle?1:0,serviceStoreGuideShareConstraint:this.settleRuleDTO.serviceStoreGuideShareConstraint?1:0,serviceStorePayMemberDistributionConstraint:this.settleRuleDTO.serviceStorePayMemberDistributionConstraint?1:0,openStoreCommissionSettle:this.settleRuleDTO.openStoreCommissionSettle?1:0,openStoreGuideShareConstraint:this.settleRuleDTO.openStoreGuideShareConstraint?1:0,openStorePayMemberDistributionConstraint:this.settleRuleDTO.openStorePayMemberDistributionConstraint?1:0,whenNoServiceStore:this.settleRuleDTO.whenNoServiceStore.length>0?1:0,whenServiceEqualOpenStore:this.settleRuleDTO.whenServiceEqualOpenStore.length>0?1:0};Object(n.e)("/api-admin/save-clique-commission-rule",t).then(function(t){var r=t.data;0==r.errorCode?e.$message.success("保存成功"):e.$message.error(r.message)}).catch(function(e){console.log(e)})},getEnterpriseList:function(){var e=this;this.loading=!0,Object(n.e)("/api-admin/list-clique-enterprise-brand-settle-rule",{}).then(function(t){var r=t.data;e.loading=!1,0==r.errorCode?e.enterpriseBrandList=r.result?r.result:[]:e.$message.error(r.message)}).catch(function(e){console.log(e)})},editEnterpriseBrand:function(e){this.dialogVisible=!0,this.enterpriseId=e.enterpriseId,this.editForm.enterpriseName=e.enterpriseName,this.editForm.settlementBrandName=e.settlementBrandName,this.checkedList=e.brandId?e.brandId.split(","):[],this.getSettlementList()},getSettlementList:function(e){var t=this,r={enterpriseId:this.enterpriseId,brandName:this.searchBrand};Object(n.e)("/api-admin/list-settlement-brand",r).then(function(r){var o=r.data;0==o.errorCode?(t.optionsAll=o.result?o.result:[],"search"!=e&&(t.optionsAllNew=o.result?o.result:[])):t.$message.error(o.message)}).catch(function(e){console.log(e)})},selectBrand:function(){this.selectBrandBool=this.checkedList.length>0},filterLabel:function(e){var t="";return this.optionsAllNew.map(function(r){e===r.outValueId&&(t=r.categoryNames+" - "+r.valueName)}),t},delItem:function(e,t){this.checkedList.splice(t,1),this.selectBrandBool=this.checkedList.length>0},saveBrandData:function(){var e=this;if(this.selectBrandBool=!0,this.selectBrandBool){var t={brandId:this.checkedList.join(","),enterpriseId:this.enterpriseId};Object(n.e)("/api-admin/save-clique-enterprise-brand-settle-rule",t).then(function(t){var r=t.data;0==r.errorCode?(e.$message.success("保存成功"),e.dialogVisible=!1,e.getEnterpriseList()):e.$message.error(r.message)}).catch(function(e){console.log(e)})}}},components:{topNav:o.a}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right-wrap"},[r("topNav"),e._v(" "),r("div",{staticClass:"right-content"},[r("div",{staticClass:"right-box"},[r("h3",{staticClass:"big-title title"},[e._v("归属佣金结算规则")]),e._v(" "),r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.settleRuleDTO,"label-width":"200px"}},[r("el-form-item",{attrs:{label:"服务门店归属佣金结算规则"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("服务门店归属佣金结算规则\n            "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"消费会员的服务门店的佣金规则配置"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.serviceStoreCommissionSettle,callback:function(t){e.$set(e.settleRuleDTO,"serviceStoreCommissionSettle",t)},expression:"settleRuleDTO.serviceStoreCommissionSettle"}})],1),e._v(" "),e.settleRuleDTO.serviceStoreCommissionSettle?r("div",{staticClass:"form-child"},[r("el-form-item",{attrs:{label:"导购分享约束"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("导购分享约束\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，当订单的分享者为导购时（通过分享者的手机号和导购手机号做匹配识别），将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.serviceStoreGuideShareConstraint,callback:function(t){e.$set(e.settleRuleDTO,"serviceStoreGuideShareConstraint",t)},expression:"settleRuleDTO.serviceStoreGuideShareConstraint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"付费会员分销约束"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("付费会员分销约束\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，下单的付费会员为导购发展的下级时，将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.serviceStorePayMemberDistributionConstraint,callback:function(t){e.$set(e.settleRuleDTO,"serviceStorePayMemberDistributionConstraint",t)},expression:"settleRuleDTO.serviceStorePayMemberDistributionConstraint"}})],1)],1):e._e(),e._v(" "),r("el-form-item",{attrs:{label:"开卡门店归属佣金结算规则","label-width":"200px"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("开卡门店归属佣金结算规则\n            "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"消费会员的开卡门店的佣金规则配置"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.openStoreCommissionSettle,callback:function(t){e.$set(e.settleRuleDTO,"openStoreCommissionSettle",t)},expression:"settleRuleDTO.openStoreCommissionSettle"}})],1),e._v(" "),e.settleRuleDTO.openStoreCommissionSettle?r("div",{staticClass:"form-child"},[r("el-form-item",{attrs:{label:"导购分享约束"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("导购分享约束\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，当订单的分享者为导购时（通过分享者的手机号和导购手机号做匹配识别），将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.openStoreGuideShareConstraint,callback:function(t){e.$set(e.settleRuleDTO,"openStoreGuideShareConstraint",t)},expression:"settleRuleDTO.openStoreGuideShareConstraint"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"付费会员分销约束"}},[r("label",{attrs:{slot:"label"},slot:"label"},[e._v("付费会员分销约束\n              "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"如果开启，下单的付费会员为导购发展的下级时，将不执行该项佣金的结算。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("el-switch",{model:{value:e.settleRuleDTO.openStorePayMemberDistributionConstraint,callback:function(t){e.$set(e.settleRuleDTO,"openStorePayMemberDistributionConstraint",t)},expression:"settleRuleDTO.openStorePayMemberDistributionConstraint"}})],1),e._v(" "),r("el-form-item",{staticClass:"check-wrap"},[r("el-checkbox",{attrs:{label:"0"},model:{value:e.settleRuleDTO.whenNoServiceStore,callback:function(t){e.$set(e.settleRuleDTO,"whenNoServiceStore",t)},expression:"settleRuleDTO.whenNoServiceStore"}},[e._v("仅当会员无服务门店时生效。"),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"当该订单的消费会员有服务门店时，开卡门店不获得佣金。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("br"),e._v(" "),r("el-checkbox",{attrs:{label:"1"},model:{value:e.settleRuleDTO.whenServiceEqualOpenStore,callback:function(t){e.$set(e.settleRuleDTO,"whenServiceEqualOpenStore",t)},expression:"settleRuleDTO.whenServiceEqualOpenStore"}},[e._v("当开卡门店与服务门店相同时，不生效。"),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"当开卡门店和服务门店为同一家门店时，开卡门店不获得佣金。"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1)],1)],1):e._e(),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:e.belongRuleSave}},[e._v("保 存")])],1)],1),e._v(" "),r("h3",{staticClass:"title"},[e._v("\n        商户结算品牌\n        "),r("el-popover",{attrs:{placement:"top",width:"190",trigger:"hover",content:"可配置商户结算品牌，一个商户可以结算多个商品品牌，一个商品品牌只能被一个商户结算"}},[r("i",{staticClass:"iconfont tooltip-icon icon-xinxixianshi",attrs:{slot:"reference"},slot:"reference"})])],1),e._v(" "),r("div",{staticClass:"table-wrap"},[r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table-no-line-wrap",staticStyle:{width:"100%"},attrs:{data:e.enterpriseBrandList}},[r("el-table-column",{attrs:{prop:"enterpriseName",label:"商户名称","show-overflow-tooltip":""}}),e._v(" "),r("el-table-column",{attrs:{prop:"settlementBrandName",label:"结算品牌","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n              "+e._s(t.row.settlementBrandName?t.row.settlementBrandName:"--")+"\n            ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"opr",label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text"},on:{click:function(r){return e.editEnterpriseBrand(t.row)}}},[e._v("编辑")])]}}])})],1)],1)],1)]),e._v(" "),r("el-dialog",{attrs:{title:"编辑商户结算品牌",visible:e.dialogVisible,width:"450px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"editForm",attrs:{model:e.editForm,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"商户名称"}},[r("el-input",{attrs:{disabled:""},model:{value:e.editForm.enterpriseName,callback:function(t){e.$set(e.editForm,"enterpriseName",t)},expression:"editForm.enterpriseName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"结算品牌"}},[r("el-popover",{staticClass:"vertical-baseline",attrs:{placement:"bottom-start",width:"284",trigger:"click"},model:{value:e.popoverShow,callback:function(t){e.popoverShow=t},expression:"popoverShow"}},[r("el-input",{staticClass:"search-brand",attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",clearable:""},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getSettlementList("search")}},model:{value:e.searchBrand,callback:function(t){e.searchBrand=t},expression:"searchBrand"}}),e._v(" "),e.optionsAll.length>0?r("el-checkbox-group",{staticClass:"dm-checkbox-group",on:{change:e.selectBrand},model:{value:e.checkedList,callback:function(t){e.checkedList=t},expression:"checkedList"}},e._l(e.optionsAll,function(t,o){return r("label",{key:o,staticClass:"dm-store__type__item",attrs:{name:t.value}},[r("el-checkbox",{attrs:{label:t.outValueId}},[e._v(e._s(t.categoryNames)+" - "+e._s(t.valueName))])],1)}),0):r("p",{staticClass:"no-search-belong-data"},[e._v("\n            暂无数据\n          ")]),e._v(" "),r("div",{staticClass:"el-input dm-store__reference",attrs:{slot:"reference"},slot:"reference"},[r("div",{staticClass:"el-input__inner dm-store__inputtag"},[e._l(e.checkedList,function(t,o){return r("el-tag",{key:o,attrs:{size:"small",closable:""},on:{close:function(r){return e.delItem(t,o)}}},[e._v(e._s(e.filterLabel(t)))])}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:0===e.checkedList.length,expression:"checkedList.length === 0"}],staticClass:"gray-color dm-store__inputtag--tips"},[e._v("请选择结算品牌")])],2),e._v(" "),r("el-popover",{attrs:{placement:"top-start","popper-class":"select-shop__popper",width:"300",trigger:"hover"}},[e._l(e.checkedList,function(t,o){return r("el-tag",{key:o,staticClass:"dm-store__total--tag",attrs:{size:"small",closable:""},on:{close:function(r){return e.delItem(t,o)}}},[e._v(e._s(e.filterLabel(t)))])}),e._v(" "),r("span",{directives:[{name:"show",rawName:"v-show",value:e.checkedList.length,expression:"checkedList.length"}],staticClass:"dm-store__inputtag--total",attrs:{slot:"reference"},slot:"reference"},[e._v("共"+e._s(e.checkedList.length)+"项")])],2)],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.saveBrandData}},[e._v("确 定")])],1)],1),e._v(" "),r("vue-gic-footer")],1)},staticRenderFns:[]};var a=r("C7Lr")(i,s,!1,function(e){r("v0KM")},"data-v-7d4e77b0",null);t.default=a.exports},pTUQ:function(e,t){},qFr1:function(e,t,r){"use strict";var o=String.prototype.replace,n=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,n,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},v0KM:function(e,t){}});
//# sourceMappingURL=27.8ef65ff0748c2f296110.js.map