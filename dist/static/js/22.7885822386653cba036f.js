webpackJsonp([22],{"0xDb":function(e,t,r){"use strict";r.d(t,"a",function(){return o});var n=r("ZLEe"),a=(r.n(n),r("hRKE")),o=(r.n(a),function(e){0})},"3E4D":function(e,t,r){"use strict";var n=r("Ip9M");r.n(n);t.a={showmsg:function(e,t){Object(n.Message)({duration:1e3,message:e,type:t})}}},"3cXf":function(e,t,r){e.exports={default:r("NUnD"),__esModule:!0}},"6Mk3":function(e,t,r){"use strict";var n={name:"navpath",props:{navpath:{type:Array,default:function(){return[]}},navtip:{type:Boolean,default:!1}},methods:{}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navwrap boxbttom"},[r("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.navpath,function(t,n){return r("el-breadcrumb-item",{key:n,staticClass:"no-link",class:{"link-active":""!=t.path&&n!=e.navpath.length-1},attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])}),1),e._v(" "),e.navpath.length>0?r("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]):e._e()],1)},staticRenderFns:[]};var o=r("C7Lr")(n,a,!1,function(e){r("Vzx8")},"data-v-2e25ceb8",null);t.a=o.exports},"6iV/":function(e,t,r){"use strict";var n=r("H9GB"),a=r("Ml8i"),o=r("qFr1");e.exports={formats:o,parse:a,stringify:n}},BOQF:function(e,t){},C6vQ:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("3cXf"),a=r.n(n),o=r("6Mk3"),i=r("3E4D"),s=r("Ch4/"),c=r("P9l9"),l=r("0xDb"),u={name:"memberGrade",data:function(){return{navpath:[{name:"集团管理",path:""},{name:"会员制度",path:""},{name:"会员卡设置",path:"/memberCardSet"},{name:"编辑商户会员等级",path:""}],cliqueId:"",cliqueName:"",memberTableData:[]}},mounted:function(){this.cliqueId=this.$route.query.enterpriseId,this.cliqueName=this.$route.query.name,this.navpath[3].name="编辑【"+this.cliqueName+"】会员等级",this.getList(),sessionStorage.removeItem("enterpriseId")},methods:{getList:function(){var e=this,t={enterpriseId:e.cliqueId};Object(c.e)("/api-admin/get-enterprise-member-grade-list",t).then(function(t){var r=t.data;0!=r.errorCode?s.a.errorMsg(r):r.result.List&&r.result.List.length&&(r.result.List.forEach(function(e,t){e.popVisible=!1}),e.memberTableData=r.result.List)}).catch(function(e){})},toUp:function(e,t,r){if(0!=e){Object(l.a)(e,t,r);var n=JSON.parse(a()(this.memberTableData));n.splice(e,1),n.unshift(t),Object(l.a)(n),this.setSort(t.gradeId,10,this.cliqueId),this.memberTableData=n}},toPre:function(e,t,r){if(0!=e){Object(l.a)(e,t,r);var n,o=JSON.parse(a()(this.memberTableData));n=o[e-1],o[e-1]=t,o[e]=n,this.setSort(t.gradeId,20,this.cliqueId),this.memberTableData=o}},toNext:function(e,t,r){if(e!=r.length-1){Object(l.a)(e,t,r);var n,o=JSON.parse(a()(this.memberTableData));n=o[e+1],o[e+1]=t,o[e]=n,this.setSort(t.gradeId,30,this.cliqueId),this.memberTableData=o}},toBottom:function(e,t,r){if(e!=r.length-1){Object(l.a)(e,t,r);var n=JSON.parse(a()(this.memberTableData));n.splice(e,1),n.push(t),this.setSort(t.gradeId,40,this.cliqueId),this.memberTableData=n}},setSort:function(e,t,r){var n=this,a={gradeId:e,sortType:t,enterpriseId:r};Object(c.e)("/api-admin/sort-member-grade",a).then(function(e){var t=e.data;0!=t.errorCode?s.a.errorMsg(t):i.a.showmsg("设置成功","success")}).catch(function(e){Object(l.a)(e),n.$message.error({duration:1e3,message:e.message})})},editGrade:function(e,t,r){this.$router.push({path:"/editMemberGrade",query:{gradeId:t.gradeId,enterpriseId:this.cliqueId,name:this.cliqueName}})},addGrade:function(){this.$router.push({path:"/addMemberGrade",query:{enterpriseId:this.cliqueId,name:this.cliqueName}})},cancelPop:function(e,t,r){t.popVisible=!1},delGrade:function(e,t,r){var n={gradeId:t.gradeId,enterpriseId:""};Object(c.a)("/api-admin/delete-member-grade",n).then(function(t){var n=t.data;if(0==n.errorCode)return i.a.showmsg("删除成功","success"),void r.splice(e,1);s.a.errorMsg(n)}).catch(function(e){})},changeRoute:function(e){this.$router.push(e)}},components:{topNavNew:o.a},beforeRouteLeave:function(e,t,r){var n=e;"/editMemberGrade"!=n.path&&"/addMemberGrade"!=n.path||sessionStorage.setItem("enterpriseId",this.cliqueId),r()}},d={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right-wrap"},[r("topNavNew",{attrs:{navpath:e.navpath}}),e._v(" "),r("div",{staticClass:"right-content"},[r("div",{staticClass:"right-box"},[r("div",{staticClass:"attention-wrap"},[r("div",{staticClass:"title"},[r("div",[e._v("会员等级根据从低到高的顺序，自上而下进行排序")]),e._v(" "),r("div",{staticClass:"add-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:e.addGrade}},[e._v("新增等级")])],1)]),e._v(" "),r("div",{staticClass:"table-wrap"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.memberTableData}},[r("el-table-column",{attrs:{prop:"gradeName",label:"会员等级名称"}}),e._v(" "),r("el-table-column",{attrs:{prop:"gradeCode",label:"等级编码"}}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"等级类型"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                "+e._s(1==t.row.gradeType?"常规卡":"特殊卡")+"\n              ")]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"移动"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("i",{class:["icon-color","el-icon-upload2",0==t.$index?"disable":""],on:{click:function(r){return e.toUp(t.$index,t.row,e.memberTableData)}}}),e._v(" "),r("i",{class:["icon-color","el-icon-back","icon-to-pre",0==t.$index?"disable":""],on:{click:function(r){return e.toPre(t.$index,t.row,e.memberTableData)}}}),e._v(" "),r("i",{class:["icon-color","el-icon-back","icon-to-next",t.$index==e.memberTableData.length-1?"disable":""],on:{click:function(r){return e.toNext(t.$index,t.row,e.memberTableData)}}}),e._v(" "),r("i",{class:["icon-color","el-icon-download",t.$index==e.memberTableData.length-1?"disable":""],on:{click:function(r){return e.toBottom(t.$index,t.row,e.memberTableData)}}})]}}])}),e._v(" "),r("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{type:"text",size:"small"},on:{click:function(r){return e.editGrade(t.$index,t.row,e.memberTableData)}}},[e._v("\n                  编辑\n                ")]),e._v(" "),r("el-popover",{attrs:{placement:"top",width:"160"},model:{value:t.row.popVisible,callback:function(r){e.$set(t.row,"popVisible",r)},expression:"scope.row.popVisible"}},[r("p",{staticStyle:{"line-height":"1.5",padding:"10px 10px 20px"}},[e._v("确认删除吗？")]),e._v(" "),r("div",{staticStyle:{"text-align":"right",margin:"0"}},[r("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(r){return e.cancelPop(t.$index,t.row,e.memberTableData)}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(r){return e.delGrade(t.$index,t.row,e.memberTableData)}}},[e._v("确定")])],1),e._v(" "),r("el-button",{staticClass:"m-l-10",attrs:{slot:"reference",type:"text"},slot:"reference"},[e._v("\n                    删除\n                  ")])],1)]}}])})],1)],1)])])]),e._v(" "),r("vue-gic-footer")],1)},staticRenderFns:[]};var p=r("C7Lr")(u,d,!1,function(e){r("BOQF")},"data-v-24df7b64",null);t.default=p.exports},"Ch4/":function(e,t,r){"use strict";var n=r("Ip9M");r.n(n);t.a={errorMsg:function(e){var t=window.location.origin;if(t.indexOf("localhost")&&(t="http://gicdev.demogic.com"),0!=e.errorCode){if(401==e.errorCode)return window.location.href=t+"/gic-web/#/",!1;n.Message.error({duration:1e3,message:e.message})}}}},H9GB:function(e,t,r){"use strict";var n=r("JNAD"),a=r("qFr1"),o={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,s={delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},c=function e(t,r,a,o,i,c,l,u,d,p,f,m){var b=t;if("function"==typeof l)b=l(r,b);else if(b instanceof Date)b=p(b);else if(null===b){if(o)return c&&!m?c(r,s.encoder):r;b=""}if("string"==typeof b||"number"==typeof b||"boolean"==typeof b||n.isBuffer(b))return c?[f(m?r:c(r,s.encoder))+"="+f(c(b,s.encoder))]:[f(r)+"="+f(String(b))];var h,v=[];if(void 0===b)return v;if(Array.isArray(l))h=l;else{var y=Object.keys(b);h=u?y.sort(u):y}for(var g=0;g<h.length;++g){var w=h[g];i&&null===b[w]||(v=Array.isArray(b)?v.concat(e(b[w],a(r,w),a,o,i,c,l,u,d,p,f,m)):v.concat(e(b[w],r+(d?"."+w:"["+w+"]"),a,o,i,c,l,u,d,p,f,m)))}return v};e.exports=function(e,t){var r=e,i=t?n.assign({},t):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!=typeof i.encoder)throw new TypeError("Encoder has to be a function.");var l=void 0===i.delimiter?s.delimiter:i.delimiter,u="boolean"==typeof i.strictNullHandling?i.strictNullHandling:s.strictNullHandling,d="boolean"==typeof i.skipNulls?i.skipNulls:s.skipNulls,p="boolean"==typeof i.encode?i.encode:s.encode,f="function"==typeof i.encoder?i.encoder:s.encoder,m="function"==typeof i.sort?i.sort:null,b=void 0!==i.allowDots&&i.allowDots,h="function"==typeof i.serializeDate?i.serializeDate:s.serializeDate,v="boolean"==typeof i.encodeValuesOnly?i.encodeValuesOnly:s.encodeValuesOnly;if(void 0===i.format)i.format=a.default;else if(!Object.prototype.hasOwnProperty.call(a.formatters,i.format))throw new TypeError("Unknown format option provided.");var y,g,w=a.formatters[i.format];"function"==typeof i.filter?r=(g=i.filter)("",r):Array.isArray(i.filter)&&(y=g=i.filter);var O,x=[];if("object"!=typeof r||null===r)return"";O=i.arrayFormat in o?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var j=o[O];y||(y=Object.keys(r)),m&&y.sort(m);for(var D=0;D<y.length;++D){var _=y[D];d&&null===r[_]||(x=x.concat(c(r[_],_,j,u,d,p?f:null,g,m,b,h,w,v)))}var N=x.join(l),C=!0===i.addQueryPrefix?"?":"";return N.length>0?C+N:""}},JNAD:function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),o=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:o,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var a=t[n],o=a.obj[a.prop],i=Object.keys(o),s=0;s<i.length;++s){var c=i[s],l=o[c];"object"==typeof l&&null!==l&&-1===r.indexOf(l)&&(t.push({obj:o,prop:c}),r.push(l))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var n=[],a=0;a<t.length;++a)void 0!==t[a]&&n.push(t[a]);r.obj[r.prop]=n}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",n=0;n<t.length;++n){var o=t.charCodeAt(n);45===o||46===o||95===o||126===o||o>=48&&o<=57||o>=65&&o<=90||o>=97&&o<=122?r+=t.charAt(n):o<128?r+=a[o]:o<2048?r+=a[192|o>>6]+a[128|63&o]:o<55296||o>=57344?r+=a[224|o>>12]+a[128|o>>6&63]+a[128|63&o]:(n+=1,o=65536+((1023&o)<<10|1023&t.charCodeAt(n)),r+=a[240|o>>18]+a[128|o>>12&63]+a[128|o>>6&63]+a[128|63&o])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,a){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(a.plainObjects||a.allowPrototypes||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var i=t;return Array.isArray(t)&&!Array.isArray(r)&&(i=o(t,a)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,o){n.call(t,o)?t[o]&&"object"==typeof t[o]?t[o]=e(t[o],r,a):t.push(r):t[o]=r}),t):Object.keys(r).reduce(function(t,o){var i=r[o];return n.call(t,o)?t[o]=e(t[o],i,a):t[o]=i,t},i)}}},Ml8i:function(e,t,r){"use strict";var n=r("JNAD"),a=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:n.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,i=/(\[[^[\]]*])/.exec(n),s=i?n.slice(0,i.index):n,c=[];if(s){if(!r.plainObjects&&a.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var l=0;null!==(i=o.exec(n))&&l<r.depth;){if(l+=1,!r.plainObjects&&a.call(Object.prototype,i[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(i[1])}return i&&c.push("["+n.slice(i.index)+"]"),function(e,t,r){for(var n=t,a=e.length-1;a>=0;--a){var o,i=e[a];if("[]"===i)o=(o=[]).concat(n);else{o=r.plainObjects?Object.create(null):{};var s="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,c=parseInt(s,10);!isNaN(c)&&i!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:o[s]=n}n=o}return n}(c,t,r)}};e.exports=function(e,t){var r=t?n.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||n.isRegExp(r.delimiter)?r.delimiter:o.delimiter,r.depth="number"==typeof r.depth?r.depth:o.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:o.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:o.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:o.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:o.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:o.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:o.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:o.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var s="string"==typeof e?function(e,t){for(var r={},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,s=n.split(t.delimiter,i),c=0;c<s.length;++c){var l,u,d=s[c],p=d.indexOf("]="),f=-1===p?d.indexOf("="):p+1;-1===f?(l=t.decoder(d,o.decoder),u=t.strictNullHandling?null:""):(l=t.decoder(d.slice(0,f),o.decoder),u=t.decoder(d.slice(f+1),o.decoder)),a.call(r,l)?r[l]=[].concat(r[l]).concat(u):r[l]=u}return r}(e,r):e,c=r.plainObjects?Object.create(null):{},l=Object.keys(s),u=0;u<l.length;++u){var d=l[u],p=i(d,s[d],r);c=n.merge(c,p,r)}return n.compact(c)}},NUnD:function(e,t,r){var n=r("/KQr"),a=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},P9l9:function(e,t,r){"use strict";r.d(t,"a",function(){return d}),r.d(t,"e",function(){return p}),r.d(t,"d",function(){return f}),r.d(t,"c",function(){return m}),r.d(t,"b",function(){return b});var n=r("rVsN"),a=r.n(n),o=r("lRwf"),i=r.n(o),s=r("6iV/"),c=r.n(s),l=r("Ip9M"),u=(r.n(l),window.location.origin);-1!=u.indexOf("localhost")&&(u="http://gicdev.demogic.com"),i.a.axios.interceptors.request.use(function(e){return e},function(e){return l.Message.error({message:"请求超时!"}),a.a.resolve(e)}),i.a.axios.interceptors.response.use(function(e){if(!e.status||200!=e.status||"error"!=e.data.status)return e;l.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status||e.response.status,a.a.resolve(e)});var d=function(e,t){return t.requestProject="gic-clique",i.a.axios({method:"get",url:""+u+e,data:{},params:t,headers:{"content-type":"application/x-www-form-urlencoded"}})},p=function(e,t){return t.requestProject="gic-clique",i.a.axios({method:"post",url:""+u+e,data:c.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}})},f=function(e,t){return t.requestProject="gic-clique",i.a.axios({method:"post",url:""+u+e,data:"{}",params:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})},m=function(e,t){return i.a.axios({method:"post",url:""+u+e,data:t,params:{requestProject:"gic-clique"},headers:{"Content-Type":"application/json;charset=UTF-8"}})},b=function(e,t){return t.requestProject="gic-clique",i.a.axios({method:"post",url:""+u+e,data:t,headers:{}})}},Vzx8:function(e,t){},qFr1:function(e,t,r){"use strict";var n=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return n.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}}});
//# sourceMappingURL=22.7885822386653cba036f.js.map