webpackJsonp([21],{"0xDb":function(e,t,o){"use strict";o.d(t,"a",function(){return a});var r=o("ZLEe"),l=(o.n(r),o("hRKE")),a=(o.n(l),function(e){0})},"3E4D":function(e,t,o){"use strict";var r=o("Ip9M");o.n(r);t.a={showmsg:function(e,t){Object(r.Message)({duration:1e3,message:e,type:t})}}},"3cXf":function(e,t,o){e.exports={default:o("NUnD"),__esModule:!0}},"6Mk3":function(e,t,o){"use strict";var r={name:"navpath",props:{navpath:{type:Array,default:function(){return[]}},navtip:{type:Boolean,default:!1}},methods:{}},l={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"navwrap boxbttom"},[o("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.navpath,function(t,r){return o("el-breadcrumb-item",{key:r,staticClass:"no-link",class:{"link-active":""!=t.path&&r!=e.navpath.length-1},attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])}),1),e._v(" "),e.navpath.length>0?o("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]):e._e()],1)},staticRenderFns:[]};var a=o("C7Lr")(r,l,!1,function(e){o("Vzx8")},"data-v-2e25ceb8",null);t.a=a.exports},"6iV/":function(e,t,o){"use strict";var r=o("H9GB"),l=o("Ml8i"),a=o("qFr1");e.exports={formats:a,parse:l,stringify:r}},"Ch4/":function(e,t,o){"use strict";var r=o("Ip9M");o.n(r);t.a={errorMsg:function(e){var t=window.location.origin;if(t.indexOf("localhost")&&(t="http://gicdev.demogic.com"),0!=e.errorCode){if(401==e.errorCode)return window.location.href=t+"/gic-web/#/",!1;r.Message.error({duration:1e3,message:e.message})}}}},H9GB:function(e,t,o){"use strict";var r=o("JNAD"),l=o("qFr1"),a={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,u={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},s=function e(t,o,l,a,n,s,i,c,m,p,d,v){var f=t;if("function"==typeof i)f=i(o,f);else if(f instanceof Date)f=p(f);else if(null===f){if(a)return s&&!v?s(o,u.encoder):o;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||r.isBuffer(f))return s?[d(v?o:s(o,u.encoder))+"="+d(s(f,u.encoder))]:[d(o)+"="+d(String(f))];var g,y=[];if(void 0===f)return y;if(Array.isArray(i))g=i;else{var L=Object.keys(f);g=c?L.sort(c):L}for(var S=0;S<g.length;++S){var h=g[S];n&&null===f[h]||(y=Array.isArray(f)?y.concat(e(f[h],l(o,h),l,a,n,s,i,c,m,p,d,v)):y.concat(e(f[h],o+(m?"."+h:"["+h+"]"),l,a,n,s,i,c,m,p,d,v)))}return y};e.exports=function(e,t){var o=e,n=t?r.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var i=void 0===n.delimiter?u.delimiter:n.delimiter,c="boolean"==typeof n.strictNullHandling?n.strictNullHandling:u.strictNullHandling,m="boolean"==typeof n.skipNulls?n.skipNulls:u.skipNulls,p="boolean"==typeof n.encode?n.encode:u.encode,d="function"==typeof n.encoder?n.encoder:u.encoder,v="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,g="function"==typeof n.serializeDate?n.serializeDate:u.serializeDate,y="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:u.encodeValuesOnly;if(void 0===n.format)n.format=l.default;else if(!Object.prototype.hasOwnProperty.call(l.formatters,n.format))throw new TypeError("Unknown format option provided.");var L,S,h=l.formatters[n.format];"function"==typeof n.filter?o=(S=n.filter)("",o):Array.isArray(n.filter)&&(L=S=n.filter);var b,F=[];if("object"!=typeof o||null===o)return"";b=n.arrayFormat in a?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var w=a[b];L||(L=Object.keys(o)),v&&L.sort(v);for(var C=0;C<L.length;++C){var _=L[C];m&&null===o[_]||(F=F.concat(s(o[_],_,w,c,m,p?d:null,S,v,f,g,h,y)))}var D=F.join(i),k=!0===n.addQueryPrefix?"?":"";return D.length>0?k+D:""}},JNAD:function(e,t,o){"use strict";var r=Object.prototype.hasOwnProperty,l=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var o=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(o[r]=e[r]);return o};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce(function(e,o){return e[o]=t[o],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],o=[],r=0;r<t.length;++r)for(var l=t[r],a=l.obj[l.prop],n=Object.keys(a),u=0;u<n.length;++u){var s=n[u],i=a[s];"object"==typeof i&&null!==i&&-1===o.indexOf(i)&&(t.push({obj:a,prop:s}),o.push(i))}return function(e){for(var t;e.length;){var o=e.pop();if(t=o.obj[o.prop],Array.isArray(t)){for(var r=[],l=0;l<t.length;++l)void 0!==t[l]&&r.push(t[l]);o.obj[o.prop]=r}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),o="",r=0;r<t.length;++r){var a=t.charCodeAt(r);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?o+=t.charAt(r):a<128?o+=l[a]:a<2048?o+=l[192|a>>6]+l[128|63&a]:a<55296||a>=57344?o+=l[224|a>>12]+l[128|a>>6&63]+l[128|63&a]:(r+=1,a=65536+((1023&a)<<10|1023&t.charCodeAt(r)),o+=l[240|a>>18]+l[128|a>>12&63]+l[128|a>>6&63]+l[128|63&a])}return o},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,o,l){if(!o)return t;if("object"!=typeof o){if(Array.isArray(t))t.push(o);else{if("object"!=typeof t)return[t,o];(l.plainObjects||l.allowPrototypes||!r.call(Object.prototype,o))&&(t[o]=!0)}return t}if("object"!=typeof t)return[t].concat(o);var n=t;return Array.isArray(t)&&!Array.isArray(o)&&(n=a(t,l)),Array.isArray(t)&&Array.isArray(o)?(o.forEach(function(o,a){r.call(t,a)?t[a]&&"object"==typeof t[a]?t[a]=e(t[a],o,l):t.push(o):t[a]=o}),t):Object.keys(o).reduce(function(t,a){var n=o[a];return r.call(t,a)?t[a]=e(t[a],n,l):t[a]=n,t},n)}}},Mk6G:function(e,t,o){"use strict";t.a={getByteLen:function(e){for(var t=0,o=0;o<e.length;o++){null!=e.charAt(o).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t},getZhLen:function(e){for(var t=0,o=0;o<e.length;o++){null!=e.charAt(o).match(/[^\x00-\xff]/gi)?t+=1:t+=.5}return Math.ceil(t)},cutStr:function(e,t,o){for(var r=0,l=0;l<e.length;l++){var a=e.charAt(l);if(1==o&&(encodeURI(a).length>2?r+=1:r+=.5),2==o&&(r+=1),r>=t){var n=r==t?l+1:l;return e.substr(0,n)}}},getByteVal:function(e,t){for(var o="",r=0,l=0;l<e.length&&(null!=e[l].match(/[^\x00-\xff]/gi)?r+=1:r+=.5,!(r>t));l++)o+=e[l];return o},getCharVal:function(e,t){for(var o="",r=0,l=0;l<e.length&&(null!=e[l].match(/[^\x00-\xff]/gi)?r+=2:r+=1,!(r>t));l++)o+=e[l];return o},regPos:function(e){return/^\d+(\.\d+)?$/.test(e)}}},Ml8i:function(e,t,o){"use strict";var r=o("JNAD"),l=Object.prototype.hasOwnProperty,a={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t,o){if(e){var r=o.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(r),u=n?r.slice(0,n.index):r,s=[];if(u){if(!o.plainObjects&&l.call(Object.prototype,u)&&!o.allowPrototypes)return;s.push(u)}for(var i=0;null!==(n=a.exec(r))&&i<o.depth;){if(i+=1,!o.plainObjects&&l.call(Object.prototype,n[1].slice(1,-1))&&!o.allowPrototypes)return;s.push(n[1])}return n&&s.push("["+r.slice(n.index)+"]"),function(e,t,o){for(var r=t,l=e.length-1;l>=0;--l){var a,n=e[l];if("[]"===n)a=(a=[]).concat(r);else{a=o.plainObjects?Object.create(null):{};var u="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,s=parseInt(u,10);!isNaN(s)&&n!==u&&String(s)===u&&s>=0&&o.parseArrays&&s<=o.arrayLimit?(a=[])[s]=r:a[u]=r}r=a}return r}(s,t,o)}};e.exports=function(e,t){var o=t?r.assign({},t):{};if(null!==o.decoder&&void 0!==o.decoder&&"function"!=typeof o.decoder)throw new TypeError("Decoder has to be a function.");if(o.ignoreQueryPrefix=!0===o.ignoreQueryPrefix,o.delimiter="string"==typeof o.delimiter||r.isRegExp(o.delimiter)?o.delimiter:a.delimiter,o.depth="number"==typeof o.depth?o.depth:a.depth,o.arrayLimit="number"==typeof o.arrayLimit?o.arrayLimit:a.arrayLimit,o.parseArrays=!1!==o.parseArrays,o.decoder="function"==typeof o.decoder?o.decoder:a.decoder,o.allowDots="boolean"==typeof o.allowDots?o.allowDots:a.allowDots,o.plainObjects="boolean"==typeof o.plainObjects?o.plainObjects:a.plainObjects,o.allowPrototypes="boolean"==typeof o.allowPrototypes?o.allowPrototypes:a.allowPrototypes,o.parameterLimit="number"==typeof o.parameterLimit?o.parameterLimit:a.parameterLimit,o.strictNullHandling="boolean"==typeof o.strictNullHandling?o.strictNullHandling:a.strictNullHandling,""===e||null===e||void 0===e)return o.plainObjects?Object.create(null):{};for(var u="string"==typeof e?function(e,t){for(var o={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=t.parameterLimit===1/0?void 0:t.parameterLimit,u=r.split(t.delimiter,n),s=0;s<u.length;++s){var i,c,m=u[s],p=m.indexOf("]="),d=-1===p?m.indexOf("="):p+1;-1===d?(i=t.decoder(m,a.decoder),c=t.strictNullHandling?null:""):(i=t.decoder(m.slice(0,d),a.decoder),c=t.decoder(m.slice(d+1),a.decoder)),l.call(o,i)?o[i]=[].concat(o[i]).concat(c):o[i]=c}return o}(e,o):e,s=o.plainObjects?Object.create(null):{},i=Object.keys(u),c=0;c<i.length;++c){var m=i[c],p=n(m,u[m],o);s=r.merge(s,p,o)}return r.compact(s)}},NUnD:function(e,t,o){var r=o("/KQr"),l=r.JSON||(r.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}},P9l9:function(e,t,o){"use strict";o.d(t,"a",function(){return m}),o.d(t,"e",function(){return p}),o.d(t,"d",function(){return d}),o.d(t,"c",function(){return v}),o.d(t,"b",function(){return f});var r=o("rVsN"),l=o.n(r),a=o("lRwf"),n=o.n(a),u=o("6iV/"),s=o.n(u),i=o("Ip9M"),c=(o.n(i),window.location.origin);-1!=c.indexOf("localhost")&&(c="http://gicdev.demogic.com"),n.a.axios.interceptors.request.use(function(e){return e},function(e){return i.Message.error({message:"请求超时!"}),l.a.resolve(e)}),n.a.axios.interceptors.response.use(function(e){if(!e.status||200!=e.status||"error"!=e.data.status)return e;i.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status||e.response.status,l.a.resolve(e)});var m=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"get",url:""+c+e,data:{},params:t,headers:{"content-type":"application/x-www-form-urlencoded"}})},p=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+c+e,data:s.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}})},d=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+c+e,data:"{}",params:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})},v=function(e,t){return n.a.axios({method:"post",url:""+c+e,data:t,params:{requestProject:"gic-clique"},headers:{"Content-Type":"application/json;charset=UTF-8"}})},f=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+c+e,data:t,headers:{}})}},QwkL:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("3cXf"),l=o.n(r),a=o("6Mk3"),n=o("Mk6G"),u=o("3E4D"),s=o("Ch4/"),i=o("P9l9"),c=o("0xDb"),m={name:"editGroupGrade",data:function(){return{navpath:[{name:"集团管理",path:""},{name:"会员制度",path:""},{name:"会员卡设置",path:"/memberCardSet"},{name:"编辑集团会员等级",path:""}],rules:{gradeName:[{required:!0,message:"请填写等级名称",trigger:"blur"}],cardColor:[{required:!0,message:"请填写卡面颜色",trigger:"change"}],cardFontColor:[{required:!0,message:"请填写文字颜色",trigger:"change"}],gradeType:[{required:!0,message:"请选择等级类型",trigger:"change"}],discountRate:[{required:!0,message:"请填写折扣",trigger:"change"}],calculationMethod:[{required:!0,message:"请填写计算方式",trigger:"change"}]},inputNumObj:{gradeName:0,gradeCode:0},inputFlag:"",inputFlagNum:"",ruleForm:{gradeId:"",gradeIntegralId:"",gradeName:"",gradeCode:"",cardColor:"",cardFontColor:"",gradeType:"1",discountRate:"",calculationMethod:"2",discountControl:"",discountControlUpper:"",discountControlLower:"",autoUpgrade:!0,upLevelHighcostSelect:!1,upLevelHighcost:"",upLevelDaystoredSelect:!1,upLevelDaystored:"",upLevelSumcostSelect:!1,upLevelSumcostDays:"",upLevelSumcost:"",upLevelCostimesSelect:!1,upLevelCosttimes:"",upLevelCosttimesDays:"",upLevelSumstoredSelect:!1,upLevelSumstored:"",upLevelSumstoredDays:"",upLevelSumintegralSelect:!1,upLevelSumintegral:"",upLevelSumintegralDays:"",autoDowngrade:!0,gradeEffectDay:"",lowLevelHighcostDays:"",lowLevelHighcost:"",lowLevelHighcostSelect:!1,lowLevelDaystoredSelect:!1,lowLevelDaystoredDays:"",lowLevelDaystored:"",lowLevelSumcostDays:"",lowLevelSumcostSelect:!1,lowLevelSumcost:"",lowLevelCosttimesSelect:!1,lowLevelCosttimesDays:"",lowLevelCosttimes:"",lowLevelSumstoredSelect:!1,lowLevelSumstored:"",lowLevelSumstoredDays:"",lowLevelSumintegralSelect:!1,lowLevelSumintegral:"",lowLevelSumintegralDays:"",gradeDescribe:"",upCliqueEnterpriseRelation:null},countTableData:[],linkLevelTableData:[],levelOptions:[{value:"0",label:"普卡"},{value:"1",label:"青铜卡卡"}]}},methods:{changeRoute:function(e){this.$router.push(e)},goBack:function(){this.$router.go(-1)},inputFocus:function(e,t){Object(c.a)(e),this.tempTag=e,this.tempFlag=t||""},formatInputChange:function(e){return Object(c.a)(e),"discountControlLower"==this.tempTag||"discountControlUpper"==this.tempTag?(this.ruleForm[this.tempTag]="NaN"==Number(String(e).replace(/[^\.\d]/g,"")).toFixed(2)?"0.00":Number(String(e).replace(/[^\.\d]/g,"")).toFixed(2),void(Number(this.ruleForm[this.tempTag])>10&&(this.ruleForm[this.tempTag]=Number(10).toFixed(2)))):"discountRate"==this.tempTag?(this.ruleForm[this.tempTag]=Number(String(e).replace(/[^\.\d]/g,"")).toFixed(2),void(Number(this.ruleForm[this.tempTag])>10&&(this.ruleForm[this.tempTag]=Number(10).toFixed(2)))):void 0},formatInput:function(e){return Object(c.a)(e,e.target.value),this.ruleForm[this.tempTag]=String(e.target.value).replace(/[^\.\d]/g,""),"discountControlLower"==this.tempTag||"discountControlUpper"==this.tempTag?(this.ruleForm[this.tempTag]="NaN"==Number(String(e.target.value).replace(/[^\.\d]/g,"")).toFixed(2)?"0.00":Number(String(e.target.value).replace(/[^\.\d]/g,"")).toFixed(2),void(Number(this.ruleForm[this.tempTag])>10&&(this.ruleForm[this.tempTag]=Number(10).toFixed(2)))):"discountRate"==this.tempTag?(this.ruleForm[this.tempTag]=Number(String(e.target.value).replace(/[^\.\d]/g,"")).toFixed(2),void(Number(this.ruleForm[this.tempTag])>10&&(this.ruleForm[this.tempTag]=Number(10).toFixed(2)))):(this.tempFlag&&"day"==this.tempFlag&&(this.ruleForm[this.tempTag]=n.a.getCharVal(String(e.target.value).replace(/[^\.\d]/g,""),4)),this.tempFlag&&"money"==this.tempFlag&&(this.ruleForm[this.tempTag]=n.a.getCharVal(String(e.target.value).replace(/[^\.\d]/g,""),6)),void(this.tempFlag&&"point"==this.tempFlag&&(this.ruleForm[this.tempTag]=n.a.getCharVal(String(e.target.value).replace(/[^\.\d]/g,""),8))))},checkUp:function(e){var t=!0;return e.autoUpgrade&&(e.upLevelHighcostSelect&&!e.upLevelHighcost&&(t=!1),e.upLevelDaystoredSelect&&!e.upLevelDaystored&&(t=!1),!e.upLevelSumcostSelect||e.upLevelSumcostDays&&e.upLevelSumcost||(t=!1),!e.upLevelCostimesSelect||e.upLevelCosttimesDays&&e.upLevelCosttimes||(t=!1),!e.upLevelSumstoredSelect||e.upLevelSumstoredDays&&e.upLevelSumstored||(t=!1),!e.upLevelSumintegralSelect||e.upLevelSumintegralDays&&e.upLevelSumintegral||(t=!1)),t},checkDown:function(e){var t=!0;return e.autoDowngrade&&(e.gradeEffectDay||(t=!1),!e.lowLevelHighcostSelect||e.lowLevelHighcostDays&&e.lowLevelHighcost||(t=!1),!e.lowLevelDaystoredSelect||e.lowLevelDaystoredDays&&e.lowLevelDaystored||(t=!1),!e.lowLevelSumcostSelect||e.lowLevelSumcostDays&&e.lowLevelSumcost||(t=!1),!e.lowLevelCosttimesSelect||e.lowLevelCosttimesDays&&e.lowLevelCosttimes||(t=!1),!e.lowLevelSumstoredSelect||e.lowLevelSumstoredDays&&e.lowLevelSumstored||(t=!1),!e.lowLevelSumintegralSelect||e.lowLevelSumintegralDays&&e.lowLevelSumintegral||(t=!1)),t},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return u.a.showmsg("表单信息未填写完整","error"),!1;if(t.ruleForm.gradeName)if(t.ruleForm.gradeCode)if(""!=t.ruleForm.discountRate)if(t.ruleForm.discountRate<.01)u.a.showmsg("折扣不能为0哦","error");else{if(2==t.ruleForm.discountControl){var o=Number(t.ruleForm.discountControlUpper)<=Number(t.ruleForm.discountControlLower);if(!t.ruleForm.discountControlUpper||!t.ruleForm.discountControlLower)return void t.$message.error("折扣控制中的折扣不能为空");if(o)return void t.$message.error("折扣控制中的折扣格式有误")}if(parseInt(t.ruleForm.discountControlLower)>10&&(t.ruleForm.discountControlLower=10),parseInt(t.ruleForm.discountControlUpper)>10&&(t.ruleForm.discountControlUpper=10),t.checkUp(t.ruleForm))if(t.checkDown(t.ruleForm)){var r=JSON.parse(l()(t.ruleForm));r.autoDowngrade=1==r.autoDowngrade?1:2,r.autoUpgrade=1==r.autoUpgrade?1:2,r.gradeType=String(r.gradeType),r.upLevelHighcostSelect=1==r.upLevelHighcostSelect?1:0,r.upLevelDaystoredSelect=1==r.upLevelDaystoredSelect?1:0,r.upLevelSumcostSelect=1==r.upLevelSumcostSelect?1:0,r.upLevelCostimesSelect=1==r.upLevelCostimesSelect?1:0,r.upLevelSumstoredSelect=1==r.upLevelSumstoredSelect?1:0,r.upLevelSumintegralSelect=1==r.upLevelSumintegralSelect?1:0,Object(c.a)(r.lowLevelHighcostSelect,r.lowLevelDaystoredSelect,r.lowLevelSumcostSelect,r.lowLevelCosttimesSelect,r.lowLevelSumstoredSelect,r.lowLevelSumintegralSelect),r.lowLevelHighcostSelect=1==r.lowLevelHighcostSelect?1:0,r.lowLevelDaystoredSelect=1==r.lowLevelDaystoredSelect?1:0,r.lowLevelSumcostSelect=1==r.lowLevelSumcostSelect?1:0,r.lowLevelCosttimesSelect=1==r.lowLevelCosttimesSelect?1:0,r.lowLevelSumstoredSelect=1==r.lowLevelSumstoredSelect?1:0,r.lowLevelSumintegralSelect=1==r.lowLevelSumintegralSelect?1:0,r.discountControlUpper=r.discountControlUpper||"0",r.discountControlLower=r.discountControlLower||"0",r.upLevelHighcost=r.upLevelHighcost||0,r.upLevelDaystored=r.upLevelDaystored||0,r.upLevelSumcostDays=r.upLevelSumcostDays||0,r.upLevelSumcost=r.upLevelSumcost||0,r.upLevelCosttimesDays=r.upLevelCosttimesDays||0,r.upLevelCosttimes=r.upLevelCosttimes||0,r.upLevelSumstoredDays=r.upLevelSumstoredDays||0,r.upLevelSumstored=r.upLevelSumstored||0,r.upLevelSumintegralDays=r.upLevelSumintegralDays||0,r.upLevelSumintegral=r.upLevelSumintegral||0,r.gradeEffectDay=r.gradeEffectDay||0,r.lowLevelHighcostDays=r.lowLevelHighcostDays||0,r.lowLevelHighcost=r.lowLevelHighcost||0,r.lowLevelDaystoredDays=r.lowLevelDaystoredDays||0,r.lowLevelDaystored=r.lowLevelDaystored||0,r.lowLevelSumcostDays=r.lowLevelSumcostDays||0,r.lowLevelSumcost=r.lowLevelSumcost||0,r.lowLevelCosttimesDays=r.lowLevelCosttimesDays||0,r.lowLevelCosttimes=r.lowLevelCosttimes||0,r.lowLevelSumstoredDays=r.lowLevelSumstoredDays||0,r.lowLevelSumstored=r.lowLevelSumstored||0,r.lowLevelSumintegralDays=r.lowLevelSumintegralDays||0,r.lowLevelSumintegral=r.lowLevelSumintegral||0;var a="";t.linkLevelTableData.forEach(function(e,o){e.selectedGradeId&&(a+=e.enterpriseId+":"+e.selectedGradeId+(t.linkLevelTableData.length>1?",":""))}),r.upCliqueEnterpriseRelation=a,Object(c.a)(r.upCliqueEnterpriseRelation),r.gradeStrategyIds="";var n=[];Object(c.a)(t.countTableData),t.countTableData&&t.countTableData.length&&t.countTableData.forEach(function(e,t){n.push(e.gradeId)}),n.length&&(r.gradeStrategyIds=n.join(",")),Object(c.a)(r.gradeStrategyIds),t.saveInfo(r)}else u.a.showmsg("请填写降级条件","error");else u.a.showmsg("请填写升级条件","error")}else u.a.showmsg("请填写折扣","error");else u.a.showmsg("请填写等级编码","error");else u.a.showmsg("请填写等级名称","error")})},saveInfo:function(e){var t=this,o=e;Object(i.e)("/api-admin/do-save-member-grade",o).then(function(e){Object(c.a)(e.data.result);var o=e.data;if(0==o.errorCode)return u.a.showmsg("保存成功","success"),void t.goBack();s.a.errorMsg(o)}).catch(function(e){Object(c.a)(e),t.$message.error({duration:1e3,message:e.message})})},focus:function(e,t){Object(c.a)(e,t),this.inputFlag=e,this.inputFlagNum=t},toInput:function(e){var t="";t=n.a.getByteVal(e.target.value,this.inputFlagNum),this.ruleForm[this.inputFlag]=t.trim(),this.inputNumObj[this.inputFlag]=n.a.getZhLen(this.ruleForm[this.inputFlag])},addGroupCate:function(e){this.$router.push({path:"/addGroupCate",query:{gradeId:this.ruleForm.gradeId}})},editGroupCate:function(e,t,o){this.$router.push({path:"/editGroupCate",query:{gradeId:this.ruleForm.gradeId,strategyId:t.gradeStrategyId}})},delGroupCate:function(e,t,o){var r={strategyId:t.gradeStrategyId};Object(i.a)("/api-admin/delete-member-grade-strategy",r).then(function(t){var r=t.data;if(0==r.errorCode)return u.a.showmsg("删除成功","success"),void o.splice(e,1);s.a.errorMsg(r)}).catch(function(e){Object(c.a)(e)})},changeCardLevel:function(e,t){Object(c.a)(e,t),t.gradeList.forEach(function(o,r){o.gradeId==e&&(t.selectedGradeCode=o.gradeCode,t.selectedAutoDowngrade=o.autoDowngrade,t.selectedAutoUpgrade=o.autoUpgrade)}),Object(c.a)(t)},getMemberGradeInfo:function(){var e=this,t={gradeId:e.ruleForm.gradeId};Object(i.e)("/api-admin/get-member-grade-info",t).then(function(t){var o=t.data;if(0==o.errorCode){e.countTableData=o.result.strategyList;var r=o.result.enterpriseGradeList;r.forEach(function(e,t){e.gradeList&&e.gradeList.unshift({gradeId:"",gradeName:"请选择",gradeCode:"",autoDowngrade:"",autoUpgrade:""})}),e.linkLevelTableData=r;var l=o.result.dto;return l.autoDowngrade=1==l.autoDowngrade,l.autoUpgrade=1==l.autoUpgrade,l.gradeType=String(l.gradeType),l.calculationMethod=String(l.calculationMethod),l.discountControl=String(l.discountControl),l.discountControlUpper=String(l.discountControlUpper),l.discountControlLower=String(l.discountControlLower),l.upLevelHighcostSelect=1==l.upLevelHighcostSelect,l.upLevelDaystoredSelect=1==l.upLevelDaystoredSelect,l.upLevelSumcostSelect=1==l.upLevelSumcostSelect,l.upLevelCostimesSelect=1==l.upLevelCostimesSelect,l.upLevelSumstoredSelect=1==l.upLevelSumstoredSelect,l.upLevelSumintegralSelect=1==l.upLevelSumintegralSelect,Object(c.a)(l.lowLevelHighcostSelect,l.lowLevelDaystoredSelect,l.lowLevelSumcostSelect,l.lowLevelCosttimesSelect,l.lowLevelSumstoredSelect,l.lowLevelSumintegralSelect),l.lowLevelHighcostSelect=1==l.lowLevelHighcostSelect,l.lowLevelDaystoredSelect=1==l.lowLevelDaystoredSelect,l.lowLevelSumcostSelect=1==l.lowLevelSumcostSelect,l.lowLevelCosttimesSelect=1==l.lowLevelCosttimesSelect,l.lowLevelSumstoredSelect=1==l.lowLevelSumstoredSelect,l.lowLevelSumintegralSelect=1==l.lowLevelSumintegralSelect,e.ruleForm=l,e.inputNumObj.gradeName=n.a.getZhLen(e.ruleForm.gradeName),void(e.inputNumObj.gradeCode=n.a.getZhLen(e.ruleForm.gradeCode))}s.a.errorMsg(o)}).catch(function(t){Object(c.a)(t),e.$message.error({duration:1e3,message:t.message})})}},beforeRouteLeave:function(e,t,o){var r=e;"/editGroupCate"!=r.path&&"/addGroupCate"!=r.path||(sessionStorage.setItem("localForm",l()(this.ruleForm)),sessionStorage.setItem("strategy",l()(this.countTableData)),sessionStorage.setItem("relation",l()(this.linkLevelTableData))),o()},components:{topNavNew:a.a},created:function(){},mounted:function(){Object(c.a)("mounted",this.$route.query.gradeId),this.ruleForm.gradeId=this.$route.query.gradeId;var e=JSON.parse(sessionStorage.getItem("localForm")),t="";"undefined"!=sessionStorage.getItem("strategy")&&(t=JSON.parse(sessionStorage.getItem("strategy")));var o="";if(sessionStorage.getItem("relation")&&"undefined"!=sessionStorage.getItem("relation")&&(o=JSON.parse(sessionStorage.getItem("relation"))),(e||t||o)&&(e&&e.gradeId||o.length>0))return this.ruleForm=e,this.countTableData=t||[],this.linkLevelTableData=o,this.inputNumObj.gradeName=n.a.getZhLen(this.ruleForm.gradeName),this.inputNumObj.gradeCode=n.a.getZhLen(this.ruleForm.gradeCode),sessionStorage.removeItem("localForm"),sessionStorage.removeItem("strategy"),void sessionStorage.removeItem("relation");this.getMemberGradeInfo()},updated:function(){Object(c.a)("更新完成")},beforeRouteUpdate:function(e,t,o){Object(c.a)("beforeRouteUpdate")}},p={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"right-wrap"},[o("topNavNew",{attrs:{navpath:e.navpath}}),e._v(" "),o("div",{staticClass:"right-content"},[o("div",{staticClass:"right-box"},[o("div",{staticClass:"attention-wrap"},[o("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"110px"}},[o("el-form-item",{staticClass:"limit-el-item",attrs:{label:"等级名称",prop:"gradeName"}},[o("el-input",{staticClass:"w-340",on:{focus:function(t){return e.focus("gradeName",12)}},nativeOn:{keyup:function(t){return o=t,e.toInput(o);var o}},model:{value:e.ruleForm.gradeName,callback:function(t){e.$set(e.ruleForm,"gradeName",t)},expression:"ruleForm.gradeName"}}),e._v(" "),o("label",{staticClass:"input-label"},[e._v(e._s(e.inputNumObj.gradeName)+"/12")])],1),e._v(" "),o("el-form-item",{staticClass:"limit-el-item",attrs:{label:"等级编码",prop:"gradeCode"}},[o("el-input",{staticClass:"w-340",attrs:{disabled:""!=e.ruleForm.gradeCode},on:{focus:function(t){return e.focus("gradeCode",6)}},nativeOn:{keyup:function(t){return o=t,e.toInput(o);var o}},model:{value:e.ruleForm.gradeCode,callback:function(t){e.$set(e.ruleForm,"gradeCode",t)},expression:"ruleForm.gradeCode"}}),e._v(" "),o("label",{staticClass:"input-label"},[e._v(e._s(e.inputNumObj.gradeCode)+"/6")])],1),e._v(" "),o("el-form-item",{attrs:{label:"卡面颜色",prop:"cardColor"}},[o("el-color-picker",{model:{value:e.ruleForm.cardColor,callback:function(t){e.$set(e.ruleForm,"cardColor",t)},expression:"ruleForm.cardColor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"文字颜色",prop:"cardFontColor"}},[o("el-color-picker",{model:{value:e.ruleForm.cardFontColor,callback:function(t){e.$set(e.ruleForm,"cardFontColor",t)},expression:"ruleForm.cardFontColor"}})],1),e._v(" "),o("el-form-item",{attrs:{label:"等级类型",prop:"gradeType"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.gradeType,callback:function(t){e.$set(e.ruleForm,"gradeType",t)},expression:"ruleForm.gradeType"}},[e._v("常规卡")]),e._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.gradeType,callback:function(t){e.$set(e.ruleForm,"gradeType",t)},expression:"ruleForm.gradeType"}},[e._v("特殊卡")])],1),e._v(" "),o("el-form-item",{attrs:{label:"折扣",prop:"discountRate"}},[o("el-input",{on:{focus:function(t){return e.inputFocus("discountRate")},change:function(t){return e.formatInputChange(t)}},model:{value:e.ruleForm.discountRate,callback:function(t){e.$set(e.ruleForm,"discountRate",t)},expression:"ruleForm.discountRate"}}),e._v("\n            折 "),o("span",{staticStyle:{"font-size":"13px",color:"#828282","line-height":"1","padding-left":"10px"}},[e._v("注意：折扣范围0.01-10.00")])],1),e._v(" "),o("el-form-item",{attrs:{label:"计算方式",prop:"calculationMethod"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.calculationMethod,callback:function(t){e.$set(e.ruleForm,"calculationMethod",t)},expression:"ruleForm.calculationMethod"}},[e._v("就低原则")]),e._v(" "),o("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.calculationMethod,callback:function(t){e.$set(e.ruleForm,"calculationMethod",t)},expression:"ruleForm.calculationMethod"}},[e._v("折上折")])],1),e._v(" "),o("el-form-item",{attrs:{label:"折扣控制",prop:""}},[o("div",{staticStyle:{"margin-bottom":"22px"}},[o("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.discountControl,callback:function(t){e.$set(e.ruleForm,"discountControl",t)},expression:"ruleForm.discountControl"}},[e._v("所有折扣商品都适用")])],1),e._v(" "),o("div",[o("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.discountControl,callback:function(t){e.$set(e.ruleForm,"discountControl",t)},expression:"ruleForm.discountControl"}},[e._v("折扣")]),e._v(" "),o("el-input-number",{attrs:{precision:2,controls:!1,max:10,min:.01},model:{value:e.ruleForm.discountControlLower,callback:function(t){e.$set(e.ruleForm,"discountControlLower",t)},expression:"ruleForm.discountControlLower"}}),e._v(" "),o("label",[e._v("至")]),e._v(" "),o("el-input-number",{attrs:{precision:2,controls:!1,max:10,min:.01},model:{value:e.ruleForm.discountControlUpper,callback:function(t){e.$set(e.ruleForm,"discountControlUpper",t)},expression:"ruleForm.discountControlUpper"}}),e._v(" "),o("label",[e._v("折商品都适用")]),e._v(" "),o("span",{staticStyle:{"font-size":"13px",color:"#828282","line-height":"1","padding-left":"10px"}},[e._v("注意：折扣范围0.01-10.00，最低折扣不能大于最高折扣")])],1)]),e._v(" "),o("el-form-item",{staticClass:"table-label",attrs:{label:"关联商户等级",prop:""}},[o("el-table",{staticStyle:{width:"100%"},attrs:{data:e.linkLevelTableData}},[o("el-table-column",{attrs:{prop:"enterpriseName",label:"商户名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:"会员等级"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:function(o){return e.changeCardLevel(o,t.row)}},model:{value:t.row.selectedGradeId,callback:function(o){e.$set(t.row,"selectedGradeId",o)},expression:"scope.row.selectedGradeId"}},e._l(t.row.gradeList,function(e,t){return o("el-option",{key:t,attrs:{label:e.gradeName,value:e.gradeId}})}),1)]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"selectedGradeCode",label:"等级编码"}}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:"自动升级"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.selectedAutoUpgrade?[e._v("\n                    "+e._s(1==t.row.selectedAutoUpgrade?"是":"否")+"\n                  ")]:[e._v("\n                    "+e._s("--")+"\n                  ")]]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:"自动降级"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.selectedAutoDowngrade?[e._v("\n                    "+e._s(1==t.row.selectedAutoDowngrade?"是":"否")+"\n                  ")]:[e._v("\n                    "+e._s("--")+"\n                  ")]]}}])})],1)],1),e._v(" "),o("el-form-item",{staticClass:"discount-ctrl-wrap",attrs:{label:"特殊折扣控制"}},[o("el-table",{staticClass:"discount-table",staticStyle:{width:"100%"},attrs:{data:e.countTableData}},[o("el-table-column",{attrs:{prop:"strategyName",label:"策略名称"}}),e._v(" "),o("el-table-column",{attrs:{prop:"applyGoods",label:"适用商品"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.strategyRelationType?o("p",[e._v("所有商品")]):e._e(),e._v(" "),2==t.row.strategyRelationType?o("p",[e._v("商品品牌")]):e._e(),e._v(" "),3==t.row.strategyRelationType?o("p",[e._v("商品类目")]):e._e(),e._v(" "),4==t.row.strategyRelationType?o("p",[e._v("部分商品")]):e._e()]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:"折扣"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.discountRate)+" 折\n                ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"calWay",label:"计算方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(1==t.row.calculationMethod?"就低原则":"折上折")+"\n                ")]}}])}),e._v(" "),o("el-table-column",{attrs:{prop:"",label:"折扣控制"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(1==t.row.discountControl?"所有折扣商品适用":"折扣范围")+"\n                ")]}}])}),e._v(" "),e.contactBool?e._e():o("el-table-column",{attrs:{prop:"",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[o("el-row",[o("el-button",{attrs:{type:"text",size:"small"},on:{click:function(o){return e.editGroupCate(t.$index,t.row,e.ruleForm.countTableData)}}},[e._v("\n                      编辑\n                    ")]),e._v(" "),o("delete-tip",{attrs:{tips:"确认删除吗?"},on:{confirm:function(o){return e.delGroupCate(t.$index,t.row,e.countTableData)}}},[o("el-button",{attrs:{type:"text"}},[e._v("删除")])],1)],1)]}}],null,!1,1601230023)})],1),e._v(" "),o("div",[o("el-button",{directives:[{name:"show",rawName:"v-show",value:!e.contactBool,expression:"!contactBool"}],attrs:{type:"text",icon:"el-icon-circle-plus-outline"},on:{click:e.addGroupCate}},[e._v("新增策略")])],1)],1),e._v(" "),o("el-form-item",{attrs:{label:"自动升级",prop:""}},[o("el-switch",{model:{value:e.ruleForm.autoUpgrade,callback:function(t){e.$set(e.ruleForm,"autoUpgrade",t)},expression:"ruleForm.autoUpgrade"}})],1),e._v(" "),e.ruleForm.autoUpgrade?o("el-form-item",{attrs:{label:"升级条件",prop:""}},[o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelHighcostSelect,callback:function(t){e.$set(e.ruleForm,"upLevelHighcostSelect",t)},expression:"ruleForm.upLevelHighcostSelect"}},[e._v("当天消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelHighcost","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelHighcost,callback:function(t){e.$set(e.ruleForm,"upLevelHighcost",t)},expression:"ruleForm.upLevelHighcost"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelDaystoredSelect,callback:function(t){e.$set(e.ruleForm,"upLevelDaystoredSelect",t)},expression:"ruleForm.upLevelDaystoredSelect"}},[e._v("当天储值满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelDaystored","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelDaystored,callback:function(t){e.$set(e.ruleForm,"upLevelDaystored",t)},expression:"ruleForm.upLevelDaystored"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelSumcostSelect,callback:function(t){e.$set(e.ruleForm,"upLevelSumcostSelect",t)},expression:"ruleForm.upLevelSumcostSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumcostDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumcostDays,callback:function(t){e.$set(e.ruleForm,"upLevelSumcostDays",t)},expression:"ruleForm.upLevelSumcostDays"}}),e._v(" "),o("label",[e._v("天内消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumcost","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumcost,callback:function(t){e.$set(e.ruleForm,"upLevelSumcost",t)},expression:"ruleForm.upLevelSumcost"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelCostimesSelect,callback:function(t){e.$set(e.ruleForm,"upLevelCostimesSelect",t)},expression:"ruleForm.upLevelCostimesSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelCosttimesDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelCosttimesDays,callback:function(t){e.$set(e.ruleForm,"upLevelCosttimesDays",t)},expression:"ruleForm.upLevelCosttimesDays"}}),e._v(" "),o("label",[e._v("天内消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelCosttimes","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelCosttimes,callback:function(t){e.$set(e.ruleForm,"upLevelCosttimes",t)},expression:"ruleForm.upLevelCosttimes"}}),e._v(" "),o("label",[e._v(" 次 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelSumstoredSelect,callback:function(t){e.$set(e.ruleForm,"upLevelSumstoredSelect",t)},expression:"ruleForm.upLevelSumstoredSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumstoredDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumstoredDays,callback:function(t){e.$set(e.ruleForm,"upLevelSumstoredDays",t)},expression:"ruleForm.upLevelSumstoredDays"}}),e._v(" "),o("label",[e._v("天内储值满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumstored","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumstored,callback:function(t){e.$set(e.ruleForm,"upLevelSumstored",t)},expression:"ruleForm.upLevelSumstored"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.upLevelSumintegralSelect,callback:function(t){e.$set(e.ruleForm,"upLevelSumintegralSelect",t)},expression:"ruleForm.upLevelSumintegralSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumintegralDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumintegralDays,callback:function(t){e.$set(e.ruleForm,"upLevelSumintegralDays",t)},expression:"ruleForm.upLevelSumintegralDays"}}),e._v(" "),o("label",[e._v("天内获得 ")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("upLevelSumintegral","point")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.upLevelSumintegral,callback:function(t){e.$set(e.ruleForm,"upLevelSumintegral",t)},expression:"ruleForm.upLevelSumintegral"}}),e._v(" "),o("label",[e._v(" 积分 ")])],1)]):e._e(),e._v(" "),o("el-form-item",{attrs:{label:"自动降级",prop:""}},[o("el-switch",{model:{value:e.ruleForm.autoDowngrade,callback:function(t){e.$set(e.ruleForm,"autoDowngrade",t)},expression:"ruleForm.autoDowngrade"}})],1),e._v(" "),e.ruleForm.autoDowngrade?o("div",[o("el-form-item",{attrs:{label:"会员等级有效期",prop:""}},[o("label",[e._v(" 自升级之日起算 ")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("gradeEffectDay","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.gradeEffectDay,callback:function(t){e.$set(e.ruleForm,"gradeEffectDay",t)},expression:"ruleForm.gradeEffectDay"}}),e._v(" "),o("label",[e._v(" 天 ")])],1),e._v(" "),o("el-form-item",{attrs:{label:"保级条件",prop:""}},[o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelHighcostSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelHighcostSelect",t)},expression:"ruleForm.lowLevelHighcostSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelHighcostDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelHighcostDays,callback:function(t){e.$set(e.ruleForm,"lowLevelHighcostDays",t)},expression:"ruleForm.lowLevelHighcostDays"}}),e._v(" "),o("label",[e._v("天内单天消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelHighcost","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelHighcost,callback:function(t){e.$set(e.ruleForm,"lowLevelHighcost",t)},expression:"ruleForm.lowLevelHighcost"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelDaystoredSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelDaystoredSelect",t)},expression:"ruleForm.lowLevelDaystoredSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelDaystoredDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelDaystoredDays,callback:function(t){e.$set(e.ruleForm,"lowLevelDaystoredDays",t)},expression:"ruleForm.lowLevelDaystoredDays"}}),e._v(" "),o("label",[e._v("天内单天储值满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelDaystored","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelDaystored,callback:function(t){e.$set(e.ruleForm,"lowLevelDaystored",t)},expression:"ruleForm.lowLevelDaystored"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelSumcostSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelSumcostSelect",t)},expression:"ruleForm.lowLevelSumcostSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumcostDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumcostDays,callback:function(t){e.$set(e.ruleForm,"lowLevelSumcostDays",t)},expression:"ruleForm.lowLevelSumcostDays"}}),e._v(" "),o("label",[e._v("天内消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumcost","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumcost,callback:function(t){e.$set(e.ruleForm,"lowLevelSumcost",t)},expression:"ruleForm.lowLevelSumcost"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelCosttimesSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelCosttimesSelect",t)},expression:"ruleForm.lowLevelCosttimesSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelCosttimesDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelCosttimesDays,callback:function(t){e.$set(e.ruleForm,"lowLevelCosttimesDays",t)},expression:"ruleForm.lowLevelCosttimesDays"}}),e._v(" "),o("label",[e._v("天内消费满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelCosttimes","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelCosttimes,callback:function(t){e.$set(e.ruleForm,"lowLevelCosttimes",t)},expression:"ruleForm.lowLevelCosttimes"}}),e._v(" "),o("label",[e._v(" 次 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelSumstoredSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelSumstoredSelect",t)},expression:"ruleForm.lowLevelSumstoredSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumstoredDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumstoredDays,callback:function(t){e.$set(e.ruleForm,"lowLevelSumstoredDays",t)},expression:"ruleForm.lowLevelSumstoredDays"}}),e._v(" "),o("label",[e._v("天内储值满")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumstored","money")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumstored,callback:function(t){e.$set(e.ruleForm,"lowLevelSumstored",t)},expression:"ruleForm.lowLevelSumstored"}}),e._v(" "),o("label",[e._v(" 元 ")])],1),e._v(" "),o("div",{staticClass:"check-cell"},[o("el-checkbox",{model:{value:e.ruleForm.lowLevelSumintegralSelect,callback:function(t){e.$set(e.ruleForm,"lowLevelSumintegralSelect",t)},expression:"ruleForm.lowLevelSumintegralSelect"}}),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumintegralDays","day")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumintegralDays,callback:function(t){e.$set(e.ruleForm,"lowLevelSumintegralDays",t)},expression:"ruleForm.lowLevelSumintegralDays"}}),e._v(" "),o("label",[e._v("天内获得")]),e._v(" "),o("el-input",{on:{focus:function(t){return e.inputFocus("lowLevelSumintegral","point")}},nativeOn:{keyup:function(t){return e.formatInput(t)}},model:{value:e.ruleForm.lowLevelSumintegral,callback:function(t){e.$set(e.ruleForm,"lowLevelSumintegral",t)},expression:"ruleForm.lowLevelSumintegral"}}),e._v(" "),o("label",[e._v(" 积分 ")])],1)])],1):e._e(),e._v(" "),o("el-form-item",{staticClass:"font-0"},[o("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")]),e._v(" "),o("el-button",{on:{click:e.goBack}},[e._v("返 回")])],1)],1)],1)])]),e._v(" "),o("vue-gic-footer")],1)},staticRenderFns:[]};var d=o("C7Lr")(m,p,!1,function(e){o("qMrj")},"data-v-4292d3d4",null);t.default=d.exports},Vzx8:function(e,t){},qFr1:function(e,t,o){"use strict";var r=String.prototype.replace,l=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,l,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},qMrj:function(e,t){}});
//# sourceMappingURL=21.6bce9b7ef9df6d6b316a.js.map