webpackJsonp([10],{"0irN":function(e,t){},"0xDb":function(e,t,r){"use strict";r.d(t,"a",function(){return s});var o=r("ZLEe"),a=(r.n(o),r("hRKE")),s=(r.n(a),function(e){0})},"26lS":function(e,t){},"3E4D":function(e,t,r){"use strict";var o=r("Ip9M");r.n(o);t.a={showmsg:function(e,t){Object(o.Message)({duration:1e3,message:e,type:t})}}},"3cXf":function(e,t,r){e.exports={default:r("NUnD"),__esModule:!0}},"6Mk3":function(e,t,r){"use strict";var o={name:"navpath",props:{navpath:{type:Array,default:function(){return[]}},navtip:{type:Boolean,default:!1}},methods:{}},a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"navwrap boxbttom"},[r("el-breadcrumb",{attrs:{separator:"/"}},e._l(e.navpath,function(t,o){return r("el-breadcrumb-item",{key:o,staticClass:"no-link",class:{"link-active":""!=t.path&&o!=e.navpath.length-1},attrs:{to:{path:t.path}}},[e._v(e._s(t.name))])}),1),e._v(" "),e.navpath.length>0?r("h1",{staticClass:"navtitle"},[e._v(e._s(e.navpath[e.navpath.length-1].name))]):e._e()],1)},staticRenderFns:[]};var s=r("C7Lr")(o,a,!1,function(e){r("Vzx8")},"data-v-2e25ceb8",null);t.a=s.exports},"6iV/":function(e,t,r){"use strict";var o=r("H9GB"),a=r("Ml8i"),s=r("qFr1");e.exports={formats:s,parse:a,stringify:o}},"7qQh":function(e,t,r){"use strict";var o=r("HzJ8"),a=r.n(o),s=r("P9l9"),n=r("0xDb"),i=(r("6iV/"),{props:{selectCateData:{type:Array,default:function(){return[]}},selectCateType:{type:String,default:""}},data:function(){return{allDate:[],firstCate:[],classIndex1:0,refreshStatus:!1,seceltIndex1:"",seceltIndex2:"",showDrag:!1,showCateDrag:!0}},created:function(){this.getFirstCateList()},methods:{getFirstCateList:function(){var e=this;Object(s.a)("/api-mall/list-mall-goods-all-category",{requestProject:"gic-clique"}).then(function(t){0===t.data.errorCode?(e.allDate=[],e.allDate.push({search:"",arr:t.data.result})):e.$message.error(t.data.message)})},getNextCateList:function(e,t,r,o){var n=this;this.seceltIndex1=o,this.seceltIndex2=t,this.allDate.length=o+1,this.refreshStatus=!this.refreshStatus;var i=!0,l=!1,c=void 0;try{for(var u,d=a()(r.arr);!(i=(u=d.next()).done);i=!0){u.value.classIndex=-1}}catch(e){l=!0,c=e}finally{try{!i&&d.return&&d.return()}finally{if(l)throw c}}e.classIndex=t;var g={categoryId:e.categoryId};Object(s.e)("/api-mall/list-mall-goods-children-category",g).then(function(e){0===e.data.errorCode?e.data.result.length&&(n.allDate[o+1]={search:"",arr:e.data.result},n.refreshStatus=!n.refreshStatus):n.$message.error(e.data.message)})},handaleConfirmCate:function(){if(Object(n.a)(this.allDate),""===this.seceltIndex1||""===this.seceltIndex2)return this.showDrag=!1,!1;var e=[];if(this.selectCateData.forEach(function(t){e.push(t.categoryId)}),-1==e.indexOf(this.allDate[this.seceltIndex1].arr[this.seceltIndex2].categoryId)){this.selectCateData.push(this.allDate[this.seceltIndex1].arr[this.seceltIndex2]);var t=[];for(var r in this.selectCateData)t.push(this.selectCateData[r].categoryId);var o={};o.cateIdsList=t,o.selectCateType=this.selectCateType,this.$emit("getCateIds",o)}else this.$message.error("请勿重复添加")},cancelConfirmCate:function(){for(var e in this.allDate)for(var t in this.allDate[e].arr)this.allDate[e].arr[t].classIndex=-1;this.getFirstCateList(),this.showDrag=!1;var r={cateIdsList:[]};r.selectCateType=this.selectCateType,this.$emit("getCateIds",r)},handleClose:function(e){this.selectCateData.splice(this.selectCateData.indexOf(e),1);var t=[];for(var r in this.selectCateData)t.push(this.selectCateData[r].categoryId);var o={};o.cateIdsList=t,o.selectCateType=this.selectCateType,this.$emit("getCateIds",o)},searchCate:function(e,t,r,o){var a=this;if(o.cancelBubble=!0,this.allDate.length=t+1,0===t){var n={search:e};Object(s.e)("/api-mall/list-mall-goods-all-category",n).then(function(t){0===t.data.errorCode?(a.allDate=[],a.allDate.push({search:""!==e?e:"",arr:t.data.result})):a.$message.error(t.data.message)})}else{var i="";for(var l in this.allDate[t-1].arr)-1!==this.allDate[t-1].arr[l].classIndex&&(i=this.allDate[t-1].arr[l].categoryId);var c={search:e,categoryId:i};Object(s.e)("/api-mall/list-mall-goods-children-category",c).then(function(r){0===r.data.errorCode?(a.allDate[t]={search:""!==e?e:"",arr:r.data.result},a.refreshStatus=!a.refreshStatus):a.$message.error(r.data.message)})}},searchBlur:function(e){Object(n.a)(e)},showDragClick:function(){this.showDrag=!this.showDrag},hideDragClick:function(){this.showDrag=!1}},components:{}}),l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"goods-cate-content"},[r("div",{staticClass:"goods-cate-title",on:{click:function(t){return t.stopPropagation(),e.showDragClick(t)}}},[e._l(e.selectCateData,function(t,o){return r("el-tag",{key:o,staticClass:"select-tag",attrs:{closable:"","disable-transitions":!1,size:"small"},on:{close:function(r){return e.handleClose(t)}}},[e._v("\n      "+e._s(t.categoryName)+"\n    ")])}),e._v(" "),r("i",{class:e.showDrag?"el-icon-arrow-down":"el-icon-arrow-up"})],2),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.showDrag,expression:"showDrag"}],staticClass:"goods-cate-list-container",on:{click:function(t){return t.stopPropagation(),e.searchBlur(t)}}},[r("div",{staticClass:"goods-cate-list-content",on:{click:function(t){return t.stopPropagation(),e.searchBlur(t)}}},e._l(e.allDate,function(t,o){return r("div",{key:o,staticClass:"goods-cate-box",on:{click:function(t){return t.stopPropagation(),e.searchBlur(t)}}},[r("el-input",{staticClass:"cate-search",attrs:{placeholder:"请输入内容","prefix-icon":"el-icon-search",size:"small",clearable:""},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:function(r){return e.searchCate(t.search,o,t,r)}(r)}},model:{value:t.search,callback:function(r){e.$set(t,"search",r)},expression:"item.search"}}),e._v(" "),r("div",{staticClass:"goods-cate-list"},e._l(t.arr,function(a,s){return r("div",{key:a.categoryId,staticClass:"goods-cate-item",class:a.classIndex===s?"cate-item-active":"",on:{click:function(r){return r.stopPropagation(),e.getNextCateList(a,s,t,o)}}},[r("span",[e._v(e._s(a.categoryName))]),e._v(" "),a.isChildren?r("i",{staticClass:"el-icon-arrow-right"}):e._e()])}),0),e._v(" "),r("span",{staticStyle:{display:"none"}},[e._v(e._s(e.refreshStatus))])],1)}),0),e._v(" "),r("div",{staticClass:"goods-cate-footer"},[r("el-row",[r("el-button",{staticClass:"cancel-cate",attrs:{type:"text",size:"small"},on:{click:e.cancelConfirmCate}},[e._v("取消")]),e._v(" "),r("el-button",{staticClass:"confirm-cate",attrs:{type:"text",size:"small"},on:{click:function(t){return t.stopPropagation(),e.handaleConfirmCate(t)}}},[e._v("确认")])],1)],1)])])},staticRenderFns:[]};var c=r("C7Lr")(i,l,!1,function(e){r("yWzc")},"data-v-7fe7171c",null);t.a=c.exports},"8Td+":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTM4IDc5LjE1OTgyNCwgMjAxNi8wOS8xNC0wMTowOTowMSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTcgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MkZBQTNFQjQ4RDkzMTFFODk5QUY5MEYyNDkzRDE2ODIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MkZBQTNFQjU4RDkzMTFFODk5QUY5MEYyNDkzRDE2ODIiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo5MDc3MUI4OThENUQxMUU4OTlBRjkwRjI0OTNEMTY4MiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5MDc3MUI4QThENUQxMUU4OTlBRjkwRjI0OTNEMTY4MiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PoVF8H0AAAOnSURBVHja7Jvba9NQHMdP0iRNsy0ddjd0OnFOJiIo6pOo+OSDKAoiQ8XLk1d88S8Q55PPCvPJCYI+Koj65A3RFxGc4gZSEHQXt7m1nTW9JX5Pm0HWbbFuPUna5gcfTtrSQ775nd/v/M5JwhmGQazGcRwp1Z4PJkJoRsHOvd0Nn4iHrFjXrPHL7DcIVNBEKsS4pXgYnu1GsxH8BmdAP5DBGDz91sseFpbY3zFwGcyAdeA2OAS+gu1V52GLp6lXh8A+eHawFmKYCl4D2iolhoVl/p/G8DMQdVvIt8m0iOYmqAMXQGxR11upVIPgXcAw6SnWNYtAqsc+gvdAAa+ZJC0vG6ukVXEmlDmOetD0lrtfG5sABzsi0rArgmFHQaeDDusAO8DDUv9Q7iHtRohwXj/ByothlJRb0TwBrdbvo+MppifLw5etYZGERN7xIXiiWKwTpmOmSWi6KzEX8Nr86sewL9gX7AuuHcGapqlgM5CqXjBEHkAzbK4vo/jcXe0evgW+mMUF/f16tZeWq8B9WZbvwbvncbzWroMmVST1QbapIJU1yMhUmpngp+AKxB4xxV61LblQ3woBtrskOd1g6uHjpshNoA/csOtgLJbJU7FDGkN5ihTuKvjzsC+4VjYArCYJHJFFttctnTOIlta9IbglLDIXTJN0dEzzhuCJeJYoDszDnhnSWkbP4yctF6z/1XcZnKsJwRBK71OfBUEcX6oFD9PbLm9MTS+ZxfCKeoHUyWw3MdPIEf8qX0/tbk/Cs3RJ24njgZNlfqhlzjwcFNguHrgSByKE0iXVA6ZZenQ6Q3g+y3Ye1j00LZX7hPxpyRfs8pAO8Fw+cbG0LBYPmZzhDcFtjSIJSYwXD8gR0Z8pbwiOJXN5D9TM4mFGy+Xxk5YvuMKyNOrU02goZGQysZ7n2V0rRRZJQ0hyVzApbMrvoQeZnE53x5kJlsSAP6TtJgpWHnauYLZ5cAUFyDtSuCNC7Rd4wUrwkFN601nd5jfjcUdEuuPEkH5ECu8oMbdUJgthC87ttNy6yzyG4/F4+PAWdXVXi9SL0nnGCdHj08li0XpEIX3bVhrtOJ8uoCxpM2GxB8TR4X4010jh/STZMqTIDyz6YxpCjWO900FIXVAgCmr1iGIQeX4A0os/AC6qqvphbhow/k+wKboZzQZSuEnebGkbAX0Nrx40mBeEvlyhFo2acClrA5CwLo5MIfS7PyBpZmJ662HaDKtZRsBniE3Mz3sLC/4rwADdgm5QNzjziAAAAABJRU5ErkJggg=="},"93Ik":function(e,t,r){"use strict";var o=r("P9l9"),a={name:"add-goods",props:{goodShow:Boolean,projectName:String,goodsType:String,goodsListId:Array},data:function(){return{goodsInput1:"",goodsInput2:"",repProjectName:"gic-clique",goodsTypeStr:"",goodsListAll1:[],goodsListSelect1:[],goodsListSelectId1:[],goodsListAll2:[],goodsListSelect2:[],goodsListSelectId2:[]}},watch:{goodShow:function(e,t){this.repProjectName=this.projectName||"gic-clique",this.goodsTypeStr=this.goodsType,e&&this.init()}},methods:{init:function(){"wx"==this.goodsTypeStr?(this.goodsListSelect1=this.goodsListId,this.goodsListSelect1&&this.goodsListSelect1.length>0&&(this.goodsInput1=this.goodsListSelect1.join(" "),this.getGoodsWx())):"line"==this.goodsTypeStr&&(this.goodsListSelect2=this.goodsListId,this.goodsListSelect2&&this.goodsListSelect2.length>0&&(this.goodsInput2=this.goodsListSelect2.join(" "),this.getGoodsLine()))},getGoodsWx:function(){var e=this,t={requestProject:e.repProjectName,proNos:e.goodsInput1};Object(o.e)("/api-mall/goods-search-by-pronos",t).then(function(t){var r=t.data;0==r.errorCode?r.result&&r.result.forEach(function(t){-1==e.goodsListSelectId1.indexOf(t.proNo)&&(e.goodsListSelectId1.push(t.proNo),e.goodsListAll1.push(t))}):e.$message.error({duration:1e3,message:r.message})}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},getGoodsLine:function(){var e=this,t={requestProject:e.repProjectName,proNos:e.goodsInput2};Object(o.e)("/api-goods/goods-search-by-pronos",t).then(function(t){var r=t.data;0==r.errorCode?r.result&&r.result.forEach(function(t){-1==e.goodsListSelectId2.indexOf(t.proNo)&&(e.goodsListSelectId2.push(t.proNo),e.goodsListAll2.push(t))}):e.$message.error({duration:1e3,message:r.message})}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},confirm:function(){var e={strategyGoodsRelationIds:[]};if(e.goodsType=this.goodsTypeStr,this.$emit("selectGoods",e),"wx"==this.goodsTypeStr)if(this.goodsListAll1.length>0){var t={};t.strategyGoodsRelationIds=this.goodsListSelectId1,t.goodsType=this.goodsTypeStr,this.$emit("selectGoods",t)}else"line"==this.goodsTypeStr&&this.$message.error("请选择要添加的商品");else if(this.goodsListAll2.length>0){var r={};r.strategyGoodsRelationIds=this.goodsListSelectId2,r.goodsType=this.goodsTypeStr,this.$emit("selectGoods",r)}else this.$message.error("请选择要添加的商品")},handleClose:function(){this.cancle()},cancle:function(){this.$emit("update:goodShow",!1)},addGoods:function(){"wx"==this.goodsTypeStr?50==this.goodsListAll1.length?this.$message.error("最多添加50个商品"):""==this.goodsInput1?this.$message.error("请输入商品货号"):-1==this.goodsListSelectId1.indexOf(this.goodsInput1)&&this.getGoodsWx():"line"==this.goodsTypeStr&&(50==this.goodsListAll2.length?this.$message.error("最多添加50个商品"):""==this.goodsInput2?this.$message.error("请输入商品货号"):-1==this.goodsListSelectId2.indexOf(this.goodsInput2)&&this.getGoodsLine())},delGoods:function(){"wx"==this.goodsTypeStr?(this.goodsListSelectId1.splice(0,this.goodsListSelectId1.length),this.goodsListAll1.splice(0,this.goodsListAll1.length),this.goodsInput1=""):(this.goodsListSelectId2.splice(0,this.goodsListSelectId2.length),this.goodsListAll2.splice(0,this.goodsListAll2.length),this.goodsInput2="")}}},s={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("el-dialog",{attrs:{title:"添加适用单品",visible:e.goodShow,width:"516px","before-close":e.handleClose},on:{"update:visible":function(t){e.goodShow=t}}},[o("div",{staticClass:"dialogwrap"},[o("div",{staticClass:"good-input"},["wx"==e.goodsTypeStr?o("el-input",{attrs:{placeholder:"请输入商品货号，多个货号之间用空格隔开"},model:{value:e.goodsInput1,callback:function(t){e.goodsInput1=t},expression:"goodsInput1"}}):e._e(),e._v(" "),"line"==e.goodsTypeStr?o("el-input",{attrs:{placeholder:"请输入商品货号，多个货号之间用空格隔开"},model:{value:e.goodsInput2,callback:function(t){e.goodsInput2=t},expression:"goodsInput2"}}):e._e(),e._v(" "),o("el-button",{staticClass:"add-btn",on:{click:e.addGoods}},[e._v("添加")])],1),e._v(" "),o("div",{staticClass:"good-clear clearfix"},["wx"==e.goodsTypeStr?o("div",{staticClass:"flex-1"},[e._v("已添加"+e._s(e.goodsListAll1.length)+"件商品")]):e._e(),e._v(" "),"line"==e.goodsTypeStr?o("div",{staticClass:"flex-1"},[e._v("已添加"+e._s(e.goodsListAll2.length)+"件商品")]):e._e(),e._v(" "),o("el-button",{staticClass:"fr",staticStyle:{padding:"0"},attrs:{type:"text"},on:{click:e.delGoods}},[e._v("全部清除")])],1),e._v(" "),"wx"==e.goodsTypeStr?o("div",{staticClass:"good-list"},[e.goodsListAll1.length>0?o("ul",{staticClass:"goods-ul"},e._l(e.goodsListAll1,function(t){return o("li",{key:t.proId},[o("img",{attrs:{src:t.mainPicUrl,alt:t.name}}),e._v(" "),o("div",{staticClass:"good-info"},[o("div",{staticClass:"good-name"},[e._v(e._s(t.proName))]),e._v(" "),o("div",{staticClass:"good-num"},[e._v(e._s(t.proNo))])])])}),0):o("div",{staticClass:"no-data-wrap"},[o("div",{staticClass:"no-data-icon"},[o("img",{attrs:{src:r("8Td+"),alt:""}})]),e._v(" "),o("p",[e._v("暂无数据")])])]):e._e(),e._v(" "),"line"==e.goodsTypeStr?o("div",{staticClass:"good-list"},[e.goodsListAll2.length>0?o("ul",{staticClass:"goods-ul"},e._l(e.goodsListAll2,function(t){return o("li",{key:t.proId},[o("img",{attrs:{src:t.mainPicUrl,alt:t.name}}),e._v(" "),o("div",{staticClass:"good-info"},[o("div",{staticClass:"good-name"},[e._v(e._s(t.proName))]),e._v(" "),o("div",{staticClass:"good-num"},[e._v(e._s(t.proNo))])])])}),0):o("div",{staticClass:"no-data-wrap"},[o("div",{staticClass:"no-data-icon"},[o("img",{attrs:{src:r("8Td+"),alt:""}})]),e._v(" "),o("p",[e._v("暂无数据")])])]):e._e()]),e._v(" "),o("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[o("el-row",[o("el-button",{on:{click:e.cancle}},[e._v("取 消")]),e._v(" "),o("el-button",{attrs:{type:"primary"},on:{click:e.confirm}},[e._v("确 定")])],1)],1)])},staticRenderFns:[]};var n=r("C7Lr")(a,s,!1,function(e){r("26lS")},"data-v-bbbbd62a",null);t.a=n.exports},"9Pyf":function(e,t,r){var o=r("y4M0"),a=r("jdnV");e.exports=r("/KQr").getIterator=function(e){var t=a(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return o(t.call(e))}},"Ch4/":function(e,t,r){"use strict";var o=r("Ip9M");r.n(o);t.a={errorMsg:function(e){var t=window.location.origin;if(t.indexOf("localhost")&&(t="http://gicdev.demogic.com"),0!=e.errorCode){if(401==e.errorCode)return window.location.href=t+"/gic-web/#/",!1;o.Message.error({duration:1e3,message:e.message})}}}},FS1w:function(e,t){},H9GB:function(e,t,r){"use strict";var o=r("JNAD"),a=r("qFr1"),s={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},n=Date.prototype.toISOString,i={delimiter:"&",encode:!0,encoder:o.encode,encodeValuesOnly:!1,serializeDate:function(e){return n.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,r,a,s,n,l,c,u,d,g,p,h){var f=t;if("function"==typeof c)f=c(r,f);else if(f instanceof Date)f=g(f);else if(null===f){if(s)return l&&!h?l(r,i.encoder):r;f=""}if("string"==typeof f||"number"==typeof f||"boolean"==typeof f||o.isBuffer(f))return l?[p(h?r:l(r,i.encoder))+"="+p(l(f,i.encoder))]:[p(r)+"="+p(String(f))];var m,v=[];if(void 0===f)return v;if(Array.isArray(c))m=c;else{var y=Object.keys(f);m=u?y.sort(u):y}for(var b=0;b<m.length;++b){var C=m[b];n&&null===f[C]||(v=Array.isArray(f)?v.concat(e(f[C],a(r,C),a,s,n,l,c,u,d,g,p,h)):v.concat(e(f[C],r+(d?"."+C:"["+C+"]"),a,s,n,l,c,u,d,g,p,h)))}return v};e.exports=function(e,t){var r=e,n=t?o.assign({},t):{};if(null!==n.encoder&&void 0!==n.encoder&&"function"!=typeof n.encoder)throw new TypeError("Encoder has to be a function.");var c=void 0===n.delimiter?i.delimiter:n.delimiter,u="boolean"==typeof n.strictNullHandling?n.strictNullHandling:i.strictNullHandling,d="boolean"==typeof n.skipNulls?n.skipNulls:i.skipNulls,g="boolean"==typeof n.encode?n.encode:i.encode,p="function"==typeof n.encoder?n.encoder:i.encoder,h="function"==typeof n.sort?n.sort:null,f=void 0!==n.allowDots&&n.allowDots,m="function"==typeof n.serializeDate?n.serializeDate:i.serializeDate,v="boolean"==typeof n.encodeValuesOnly?n.encodeValuesOnly:i.encodeValuesOnly;if(void 0===n.format)n.format=a.default;else if(!Object.prototype.hasOwnProperty.call(a.formatters,n.format))throw new TypeError("Unknown format option provided.");var y,b,C=a.formatters[n.format];"function"==typeof n.filter?r=(b=n.filter)("",r):Array.isArray(n.filter)&&(y=b=n.filter);var I,w=[];if("object"!=typeof r||null===r)return"";I=n.arrayFormat in s?n.arrayFormat:"indices"in n?n.indices?"indices":"repeat":"indices";var L=s[I];y||(y=Object.keys(r)),h&&y.sort(h);for(var S=0;S<y.length;++S){var D=y[S];d&&null===r[D]||(w=w.concat(l(r[D],D,L,u,d,g?p:null,b,h,f,m,C,v)))}var x=w.join(c),A=!0===n.addQueryPrefix?"?":"";return x.length>0?A+x:""}},HzJ8:function(e,t,r){e.exports={default:r("fL6L"),__esModule:!0}},JNAD:function(e,t,r){"use strict";var o=Object.prototype.hasOwnProperty,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},o=0;o<e.length;++o)void 0!==e[o]&&(r[o]=e[o]);return r};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce(function(e,r){return e[r]=t[r],e},e)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],o=0;o<t.length;++o)for(var a=t[o],s=a.obj[a.prop],n=Object.keys(s),i=0;i<n.length;++i){var l=n[i],c=s[l];"object"==typeof c&&null!==c&&-1===r.indexOf(c)&&(t.push({obj:s,prop:l}),r.push(c))}return function(e){for(var t;e.length;){var r=e.pop();if(t=r.obj[r.prop],Array.isArray(t)){for(var o=[],a=0;a<t.length;++a)void 0!==t[a]&&o.push(t[a]);r.obj[r.prop]=o}}return t}(t)},decode:function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},encode:function(e){if(0===e.length)return e;for(var t="string"==typeof e?e:String(e),r="",o=0;o<t.length;++o){var s=t.charCodeAt(o);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?r+=t.charAt(o):s<128?r+=a[s]:s<2048?r+=a[192|s>>6]+a[128|63&s]:s<55296||s>=57344?r+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(o+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(o)),r+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return r},isBuffer:function(e){return null!==e&&void 0!==e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,a){if(!r)return t;if("object"!=typeof r){if(Array.isArray(t))t.push(r);else{if("object"!=typeof t)return[t,r];(a.plainObjects||a.allowPrototypes||!o.call(Object.prototype,r))&&(t[r]=!0)}return t}if("object"!=typeof t)return[t].concat(r);var n=t;return Array.isArray(t)&&!Array.isArray(r)&&(n=s(t,a)),Array.isArray(t)&&Array.isArray(r)?(r.forEach(function(r,s){o.call(t,s)?t[s]&&"object"==typeof t[s]?t[s]=e(t[s],r,a):t.push(r):t[s]=r}),t):Object.keys(r).reduce(function(t,s){var n=r[s];return o.call(t,s)?t[s]=e(t[s],n,a):t[s]=n,t},n)}}},"KjG/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("3cXf"),a=r.n(o),s=r("6Mk3"),n=r("93Ik"),i=r("7qQh"),l=(r("0irN"),r("3E4D")),c=r("Ch4/"),u=r("Mk6G"),d=r("P9l9"),g=r("0xDb"),p={name:"addIntegralSytem",data:function(){return{repProjectName:"gic-clique",navpath:[{name:"集团管理",path:""},{name:"会员制度",path:""},{name:"积分制度",path:"/pointSystem"},{name:"编辑积分抵现策略",path:""}],rules:{strategyName:[{required:!0,message:"请填写策略名称",trigger:"blur"}]},goodShow:!1,cateNameLength:0,inputFlagNum:20,mechantOption:[],applyGoods:[{label:"所有商品",value:"1"}],ruleForm:{integralStrategyId:"ff80808163a7a09b0163b01171e202db",enterpriseId:"ff8080815dacd3a2015dacd3ef5c0000",strategyName:1,strategyType:1,useCrowd:"1",crowdJson:"",selectorParams:"",integralGetStatus:"1",integralGet:{fee:11,integral:12},integralGetStrategy:"1",integralGetFreezeDays:1,integralGetEffectiveDays:1,integralUseStatus:"0",integralUse:{fee:"",integral:""},channelList:[{integralStrategyChannelId:"ff808081649321d20164a1fafbdd01df",enterpriseId:"ff8080815dacd3a2015dacd3ef5c0000",integralStrategyId:"ff80808163a7a09b0163b01171e202db",channelType:"1",openStatus:1,channelRelationEnterpriseType:"1",channelRelationStoreType:"1",channelStoreType:"-1",channelRelationProType:"1",integralUseDiscountControl:"1",integralUseDiscountControlUpper:"0.0",integralUseDiscountControlLower:"0.0",useProportionalRestriction:"0.0",strategyGoodsRelationIdArr:[],storeRelationIdArr:[],enterpriseRelationIdArr:[]}]},applyObjOption:[{label:"所有会员",value:"1"},{label:"自定义人群",value:"2"}],dialogVisiblePeople:!1,sceneValue:"member",useId:"",searchParams:"",hasSearchData:"",toggleTag:!1,selectCount:0,goodsType:"wx",goodsListId:[],goodsListWx:[],goodsListLine:[],selectCateDataWx:[],selectCateDataLine:[],selectCateTypeWx:"wx",selectCateTypeLine:"line",cateDataWx:[],cateDataLine:[],storeGroupList:[],goodsTreeOptionsWx:[],valueWx:[],goodsTreeOptionsLine:[],valueLine:[],tpnEditBool:!1,tpnEnterpriseId:"ff808081671d3ceb01672adebf4e6149"}},created:function(){},mounted:function(){Object(g.a)(this.$route.query.integralStrategyId);var e=this.$route.query.integralStrategyId;this.ruleForm.integralStrategyId=e,this.getInfo(),this.getGoodsBrand(),this.getLoginInfo()},methods:{goBack:function(){this.$router.go(-1)},submitForm:function(e){var t=this,r=this;r.tpnEditBool||this.$refs[e].validate(function(e){if(!e)return Object(g.a)("error submit!!"),!1;var o=JSON.parse(a()(r.ruleForm));if(o.strategyName)if(o.channelList[0].enterpriseRelationIdArr.length){if(2==o.channelList[0].integralUseDiscountControl){var s=Number(o.channelList[0].integralUseDiscountControlLower)>=Number(o.channelList[0].integralUseDiscountControlUpper);if(!o.channelList[0].integralUseDiscountControlLower||!o.channelList[0].integralUseDiscountControlUpper)return void r.$message.error("折扣控制中的折扣不能为空");if(s)return void r.$message.error("折扣控制中的折扣格式有误")}var n=!o.integralUse.fee||""==String(o.integralUse.integral);if(1==o.integralUseStatus&&n)r.$message.error("请填写抵现规则");else{if(1==o.integralUseStatus){if(!Number(o.integralUse.fee))return void l.a.showmsg("抵现规则中的抵现金额不能为0","error");if(!Number(o.integralUse.integral))return void l.a.showmsg("抵现规则中的使用积分不能为0","error")}if(o.channelList[0].useProportionalRestriction)if(o.channelList[0].useProportionalRestriction>100)l.a.showmsg("比例限制不能大于100","error");else{var i=!0;o.channelList.forEach(function(e){if(1==e.channelType){if(2==e.channelRelationProType&&t.valueWx.length<1)return l.a.showmsg("请选择商品品牌","error"),i=!1;if(3==e.channelRelationProType&&t.cateDataWx.length<1)return l.a.showmsg("请选择商品品类","error"),i=!1;if(4==e.channelRelationProType&&t.goodsListWx.length<1)return l.a.showmsg("请选择单件商品","error"),i=!1}}),2==o.useCrowd&&t.selectCount<1?l.a.showmsg("请选择人群定向","error"):(delete o.selectorParamsId,o.integralUse=a()(o.integralUse),o.channelList&&o.channelList.forEach(function(e,t){e.openStatus=1}),i&&r.saveForm(o))}else l.a.showmsg("请填写比例限制","error")}}else l.a.showmsg("请选择商户","error");else l.a.showmsg("请填写策略名称","error")})},saveForm:function(e){var t=this,r=e;Object(d.c)("/api-admin/save-member-integral-strategy",r).then(function(e){Object(g.a)(e.data.result);var r=e.data;if(0==r.errorCode)return t.$message({message:"保存成功",type:"success"}),void t.changeRoute("/pointSystem");c.a.errorMsg(r)}).catch(function(e){Object(g.a)(e)})},toInput:function(e){var t=u.a.getByteVal(e.target.value,this.inputFlagNum);this.ruleForm.strategyName=t.trim(),this.cateNameLength=u.a.getZhLen(this.ruleForm.strategyName)},inputFocus:function(e,t,r){this.tempTag=t,this.tempData=e,this.tempFlag=r||""},formatInputChange:function(e){if(Object(g.a)(e),"integralUseDiscountControlLower"==this.tempTag||"integralUseDiscountControlUpper"==this.tempTag)return this.tempData[this.tempTag]="NaN"==Number(String(e).replace(/[^\.\d]/g,"")).toFixed(2)?"0.00":Number(String(e).replace(/[^\.\d]/g,"")).toFixed(2),void(Number(this.tempData[this.tempTag])>10&&(this.tempData[this.tempTag]=Number(10).toFixed(2)))},formatInput:function(e){Object(g.a)(e,e.target.value,this.tempData.integralUseDiscountControlLower),this.tempData.integralUseDiscountControlLower="NaN"==Number(String(this.tempData.integralUseDiscountControlLower).replace(/[^\.\d]/g,"")).toFixed(2)?"0.00":Number(String(this.tempData.integralUseDiscountControlLower).replace(/[^\.\d]/g,"")).toFixed(2),this.tempData.integralUseDiscountControlUpper="NaN"==Number(String(this.tempData.integralUseDiscountControlUpper).replace(/[^\.\d]/g,"")).toFixed(2)?"0.00":Number(String(this.tempData.integralUseDiscountControlUpper).replace(/[^\.\d]/g,"")).toFixed(2)},formatInputNum:function(e){this.ruleForm.integralUse.fee=u.a.getCharVal(String(this.ruleForm.integralUse.fee).replace(/[^\.\d]/g,""),6),this.ruleForm.integralUse.integral=u.a.getCharVal(String(this.ruleForm.integralUse.integral).replace(/[^\.\d]/g,""),8),this.ruleForm.channelList[0].useProportionalRestriction=u.a.getCharVal(String(this.ruleForm.channelList[0].useProportionalRestriction).replace(/[^\d]/g,""),3)},formatInputNumBlur:function(){this.ruleForm.integralUse.fee=Number(u.a.getCharVal(String(this.ruleForm.integralUse.fee).replace(/[^\.\d]/g,""),6)).toFixed(1)},changeRoute:function(e){this.$router.push(e)},getInfo:function(){var e=this,t=this,r={strategyId:t.ruleForm.integralStrategyId};Object(d.e)("/api-admin/get-member-integral-strategy",r).then(function(r){Object(g.a)(r.data.result);var o=r.data;if(0==o.errorCode){var a=r.data.result.enterpriseList;a.forEach(function(e,t){e.label=e.brandName,e.value=e.enterpriseId}),t.mechantOption=a;var s=r.data.result.strategy;if(s.channelList&&s.channelList.forEach(function(e){"1"==e.channelType&&(3==e.channelRelationProType&&e.goodsCategoryList&&e.goodsCategoryList.forEach(function(e){t.selectCateDataWx.push(e)}),4==e.channelRelationProType&&e.strategyGoodsRelationIdArr&&e.strategyGoodsRelationIdArr.forEach(function(e){t.goodsListWx.push(e)}),2==e.channelRelationProType&&e.strategyGoodsRelationIdArr&&e.strategyGoodsRelationIdArr.forEach(function(e){t.valueWx.push(e)}))}),2==s.useCrowd){var n=JSON.parse(s.crowdJson);e.selectCount=0,n.list&&n.list.forEach(function(t){t.list&&(e.selectCount+=t.list.length)}),e.useId=s.selectorParamsId,e.hasSearchData=s.crowdJson}return s.integralUse=JSON.parse(s.integralUse),s.integralUse||(s.integralUse={},s.integralUse.fee="",s.integralUse.integral=""),t.ruleForm=t.formatData(s),void(t.cateNameLength=u.a.getZhLen(t.ruleForm.strategyName))}c.a.errorMsg(o)}).catch(function(e){Object(g.a)(e),t.$message.error({duration:1e3,message:e.message})})},bouncer:function(e){return e.filter(function(e){return!(!e||""===e)})},formatData:function(e){return e.integralGetStatus=String(e.integralGetStatus),e.integralUseStatus=String(e.integralUseStatus),e.useCrowd=String(e.useCrowd),e.integralGet=JSON.parse(e.integralGet),e.channelList.forEach(function(e,t){e.channelType=String(e.channelType),e.channelRelationStoreType=String(e.channelRelationStoreType),e.channelStoreType=String(e.channelStoreType),e.channelRelationProType=String(e.channelRelationProType),e.integralUseDiscountControl=String(e.integralUseDiscountControl),e.integralUseDiscountControlUpper=String(e.integralUseDiscountControlUpper),e.integralUseDiscountControlLower=String(e.integralUseDiscountControlLower),e.useProportionalRestriction=String(e.useProportionalRestriction),e.strategyGoodsRelationIdArr&&e.strategyGoodsRelationIdArr.length||(e.strategyGoodsRelationIdArr=[]),e.storeRelationIdArr&&e.storeRelationIdArr.length||(e.storeRelationIdArr=[]),e.enterpriseRelationIdArr&&e.enterpriseRelationIdArr.length||(e.enterpriseRelationIdArr=[])}),e},getGoodsBrand:function(){var e=this;Object(d.a)("/api-mall/list-enterprise-brand",{}).then(function(t){var r=t.data;if(0==r.errorCode){var o=r.result;e.goodsTreeOptionsWx=o,e.goodsTreeOptionsLine=o}c.a.errorMsg(r)}).catch(function(t){e.$message.error({duration:1e3,message:t.message})})},selectGoodsStoreWx:function(e){var t=this;this.valueWx=e,this.ruleForm.channelList.forEach(function(r,o){"1"==r.channelType&&(t.ruleForm.channelList[o].strategyGoodsRelationIdArr=[],e.forEach(function(e){t.ruleForm.channelList[o].strategyGoodsRelationIdArr.push(e)}))})},showGoodsDialog:function(e){this.goodsType=e,this.goodShow=!0,this.goodsListId=[],"wx"==e?this.goodsListId=this.goodsListWx:"line"==e&&(this.goodsListId=this.goodsListLine)},selectGoods:function(e){var t=this;t.goodShow=!1,t.goodsListId=[],e&&("wx"==e.goodsType?(t.ruleForm.channelList.forEach(function(r,o){"1"==r.channelType&&(t.ruleForm.channelList[o].strategyGoodsRelationIdArr=[],e.strategyGoodsRelationIds.forEach(function(e){t.ruleForm.channelList[o].strategyGoodsRelationIdArr.push(e)}))}),t.goodsListWx=e.strategyGoodsRelationIds):"line"==e.goodsType&&(t.ruleForm.channelList.forEach(function(r,o){"3"==r.channelType&&(t.ruleForm.channelList[o].strategyGoodsRelationIdArr=[],e.strategyGoodsRelationIds.forEach(function(e){t.ruleForm.channelList[o].strategyGoodsRelationIdArr.push(e)}))}),t.goodsListLine=e.strategyGoodsRelationIds))},changePeople:function(e){Object(g.a)(this.ruleForm.useCrowd)},showPeople:function(){this.dialogVisiblePeople=!0},getData:function(){this.$refs.peopleFilter.confirmSet()},findFilter:function(e){var t=this;if(Object(g.a)(e),this.ruleForm.crowdJson=e,this.searchParams=e,this.ruleForm.crowdJson){var r=JSON.parse(this.ruleForm.crowdJson);this.selectCount=0,r.list&&r.list.forEach(function(e){t.selectCount+=e.list.length})}},cancelFilter:function(){this.$refs.peopleFilter.cancelSet()},getBackData:function(e){Object(g.a)(e),this.ruleForm.selectorParams=e},hideBtn:function(){this.toggleTag=!1},editShow:function(){this.toggleTag=!0},editHide:function(){this.toggleTag=!1},getPeopleData:function(){var e=this;e.$refs.peopleFilter.confirmSet(),setTimeout(function(){e.searchParams&&e.lsSaveBtn(e.searchParams)},500)},lsSaveBtn:function(e){var t=this;Object(d.e)("/api-admin/get-screen-detail-param",{requestProject:"gic-web",tempBusinessId:this.tempBusinessId?this.tempBusinessId:"",detailParams:e}).then(function(e){0==e.data.errorCode?(t.tempBusinessId=e.data.result,t.useId=e.data.result,t.dialogVisiblePeople=!1,t.searchParams=""):t.$message.error(e.data.message)}).catch(function(e){Object(g.a)(e)})},getCateIds:function(e){var t=this;"wx"==e.selectCateType?this.ruleForm.channelList.forEach(function(r,o){"1"==r.channelType&&(t.ruleForm.channelList[o].strategyGoodsRelationIdArr=[],e.cateIdsList.forEach(function(e){t.ruleForm.channelList[o].strategyGoodsRelationIdArr.push(e),t.cateDataWx.push(e)}))}):"line"==e.selectCateType&&this.ruleForm.channelList.forEach(function(r,o){"3"==r.channelType&&(t.ruleForm.channelList[o].strategyGoodsRelationIdArr=[],e.cateIdsList.forEach(function(e){t.ruleForm.channelList[o].strategyGoodsRelationIdArr.push(e),t.cateDataLine.push(e)}))})},selectGoodsCateHide:function(){var e=this;this.ruleForm.channelList.length>0&&this.ruleForm.channelList.forEach(function(t,r){"1"==t.channelType&&3==t.channelRelationProType&&(e.$refs.selectGoodsCate instanceof Array?e.$refs.selectGoodsCate[0].hideDragClick():e.$refs.selectGoodsCate.hideDragClick())})},getLoginInfo:function(){var e=this;Object(d.e)("/api-auth/get-login-user-info",{}).then(function(t){var r=t.data;0==r.errorCode?r.result.enterpriseId==e.tpnEnterpriseId&&(e.tpnEditBool=!0):c.a.errorMsg(r)}).catch(function(e){Object(g.a)(e)})}},components:{topNavNew:s.a,addGoods:n.a,goodsCate:i.a}},h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"right-wrap"},[r("topNavNew",{attrs:{navpath:e.navpath}}),e._v(" "),r("div",{staticClass:"right-content",on:{click:e.selectGoodsCateHide}},[r("div",{staticClass:"right-box"},[r("div",{staticClass:"attention-wrap"},[r("div",{staticClass:"form-wrap"},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{staticClass:"padding-0 padding-r-45",attrs:{label:"策略名称",prop:"strategyName"}},[r("el-input",{staticClass:"w-340 padding-0",nativeOn:{keyup:function(t){return r=t,e.toInput(r);var r}},model:{value:e.ruleForm.strategyName,callback:function(t){e.$set(e.ruleForm,"strategyName",t)},expression:"ruleForm.strategyName"}}),e._v(" "),r("label",{staticClass:"input-label"},[e._v(e._s(e.cateNameLength)+"/20")])],1),e._v(" "),r("el-form-item",{staticClass:"margin-20",attrs:{label:"适用对象",prop:""}},[r("el-select",{attrs:{placeholder:"请选择"},on:{change:e.changePeople},model:{value:e.ruleForm.useCrowd,callback:function(t){e.$set(e.ruleForm,"useCrowd",t)},expression:"ruleForm.useCrowd"}},e._l(e.applyObjOption,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),2==e.ruleForm.useCrowd?r("el-form-item",{staticClass:"padding-0",attrs:{label:"人群定向",prop:""}},[r("el-button",{on:{click:e.showPeople}},[e._v("已设置"+e._s(e.selectCount)+"项筛选")])],1):e._e(),e._v(" "),r("el-form-item",{staticClass:"padding-0",attrs:{label:"适用条件"}},[r("div",{staticClass:"title-tip"},[e._v("该设置只对微信商城中的积分抵现起作用。")])]),e._v(" "),e._l(e.ruleForm.channelList,function(t,o){return[1==t.channelType?[r("div",{key:o,staticClass:"form-child margin-20"},[r("el-form-item",{attrs:{label:"选择商户"}},[r("el-select",{attrs:{placeholder:"请选择",multiple:"",size:"small"},model:{value:t.enterpriseRelationIdArr,callback:function(r){e.$set(t,"enterpriseRelationIdArr",r)},expression:"item.enterpriseRelationIdArr"}},e._l(e.mechantOption,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{staticClass:"padding-0",attrs:{label:"适用商品"}},[r("el-select",{staticClass:"fl",staticStyle:{"margin-right":"10px"},attrs:{placeholder:"请选择"},model:{value:t.channelRelationProType,callback:function(r){e.$set(t,"channelRelationProType",r)},expression:"item.channelRelationProType"}},e._l(e.applyGoods,function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),e._v(" "),2==t.channelRelationProType?r("el-select",{staticClass:"fl",attrs:{size:"small",multiple:"",placeholder:"请选择"},on:{change:e.selectGoodsStoreWx},model:{value:e.valueWx,callback:function(t){e.valueWx=t},expression:"valueWx"}},e._l(e.goodsTreeOptionsWx,function(e){return r("el-option",{key:e.brandId,attrs:{label:e.brandName,value:e.brandId}})}),1):e._e(),e._v(" "),3==t.channelRelationProType?r("div",{staticClass:"fl goods-cate"},[r("goodsCate",{ref:"selectGoodsCate",refInFor:!0,attrs:{selectCateType:e.selectCateTypeWx,selectCateData:e.selectCateDataWx},on:{getCateIds:e.getCateIds}})],1):e._e(),e._v(" "),4==t.channelRelationProType?r("el-button",{staticClass:"fl",staticStyle:{width:"202px"},on:{click:function(t){return e.showGoodsDialog("wx")}}},[e._v("已选"+e._s(e.goodsListWx.length)+"件商品")]):e._e()],1),e._v(" "),r("el-form-item",{attrs:{label:"折扣控制",prop:"region"}},[r("div",{staticClass:"radio-cell"},[r("el-radio",{attrs:{label:"1"},model:{value:t.integralUseDiscountControl,callback:function(r){e.$set(t,"integralUseDiscountControl",r)},expression:"item.integralUseDiscountControl"}},[e._v("所有折扣商品都适用")])],1),e._v(" "),r("div",{staticClass:"radio-cell margin-20"},[r("el-radio",{attrs:{label:"2"},model:{value:t.integralUseDiscountControl,callback:function(r){e.$set(t,"integralUseDiscountControl",r)},expression:"item.integralUseDiscountControl"}},[e._v("折扣")]),e._v(" "),r("el-input-number",{attrs:{precision:2,controls:!1,max:10,min:.01},model:{value:t.integralUseDiscountControlLower,callback:function(r){e.$set(t,"integralUseDiscountControlLower",r)},expression:"item.integralUseDiscountControlLower"}}),e._v(" "),r("label",[e._v("至")]),e._v(" "),r("el-input-number",{attrs:{precision:2,controls:!1,max:10,min:.01},model:{value:t.integralUseDiscountControlUpper,callback:function(r){e.$set(t,"integralUseDiscountControlUpper",r)},expression:"item.integralUseDiscountControlUpper"}}),e._v(" "),r("label",[e._v("折商品都适用")]),e._v(" "),r("span",{staticStyle:{"font-size":"13px",color:"#828282","line-height":"1","padding-left":"10px"}},[e._v("注意：折扣范围0.01-10.00，最低折扣不能大于最高折扣")])],1)])],1)]:e._e()]}),e._v(" "),r("el-form-item",{staticClass:"margin-20",attrs:{label:"抵现规则",prop:""}},[r("div",[r("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.integralUseStatus,callback:function(t){e.$set(e.ruleForm,"integralUseStatus",t)},expression:"ruleForm.integralUseStatus"}},[e._v("每使用")]),e._v(" "),r("el-input-number",{attrs:{precision:1,controls:!1,max:1e4,min:.1},model:{value:e.ruleForm.integralUse.integral,callback:function(t){e.$set(e.ruleForm.integralUse,"integral",t)},expression:"ruleForm.integralUse.integral"}}),e._v(" "),r("label",[e._v("积分,抵 ")]),e._v(" "),r("el-input-number",{attrs:{precision:1,controls:!1,max:1e4,min:.1},model:{value:e.ruleForm.integralUse.fee,callback:function(t){e.$set(e.ruleForm.integralUse,"fee",t)},expression:"ruleForm.integralUse.fee"}}),e._v(" "),r("label",[e._v("元")])],1),e._v(" "),r("div",[r("el-radio",{staticClass:"margin-20",attrs:{label:"0"},model:{value:e.ruleForm.integralUseStatus,callback:function(t){e.$set(e.ruleForm,"integralUseStatus",t)},expression:"ruleForm.integralUseStatus"}},[e._v("不支持抵现")])],1)]),e._v(" "),r("el-form-item",{attrs:{label:"比例限制",prop:"name"}},[r("label",{staticStyle:{color:"#606266"}},[e._v("最多可抵用商品金额的 ")]),e._v(" "),r("el-input",{nativeOn:{keyup:function(t){return e.formatInputNum(t)}},model:{value:e.ruleForm.channelList[0].useProportionalRestriction,callback:function(t){e.$set(e.ruleForm.channelList[0],"useProportionalRestriction",t)},expression:"ruleForm.channelList[0].useProportionalRestriction"}},[r("template",{slot:"append"},[e._v("\n                  %\n                ")])],2)],1),e._v(" "),r("el-form-item",[r("el-row",[r("el-button",{attrs:{disabled:e.tpnEditBool,type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("保 存")]),e._v(" "),r("el-button",{on:{click:e.goBack}},[e._v("返 回")])],1)],1)],2)],1)])])]),e._v(" "),r("vue-gic-footer"),e._v(" "),r("add-goods",{attrs:{goodsListId:e.goodsListId,goodsType:e.goodsType,goodShow:e.goodShow,projectName:e.repProjectName},on:{"update:goodShow":function(t){e.goodShow=t},"update:good-show":function(t){e.goodShow=t},selectGoods:e.selectGoods}}),e._v(" "),r("el-dialog",{attrs:{title:"自定义人群",visible:e.dialogVisiblePeople,width:"980px"},on:{"update:visible":function(t){e.dialogVisiblePeople=t}}},[r("div",{staticClass:"select-people"},[r("vue-gic-group-people",{ref:"peopleFilter",attrs:{projectName:e.repProjectName,useId:e.useId,hasSearchData:e.hasSearchData,sceneValue:e.sceneValue},on:{findFilter:e.findFilter,getBackData:e.getBackData,editHide:e.editHide,editShow:e.editShow,hideBtn:e.hideBtn}}),e._v(" "),r("div",{directives:[{name:"show",rawName:"v-show",value:e.toggleTag,expression:"toggleTag"}],staticClass:"people-btn-wrap"},[r("el-row",[r("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.getData}},[e._v("确定")]),e._v(" "),r("el-button",{attrs:{size:"small"},on:{click:e.cancelFilter}},[e._v("取消")])],1)],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-row",[r("el-button",{on:{click:function(t){e.dialogVisiblePeople=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.getPeopleData}},[e._v("确 定")])],1)],1)])],1)},staticRenderFns:[]};var f=r("C7Lr")(p,h,!1,function(e){r("FS1w")},"data-v-e948e324",null);t.default=f.exports},Mk6G:function(e,t,r){"use strict";t.a={getByteLen:function(e){for(var t=0,r=0;r<e.length;r++){null!=e.charAt(r).match(/[^\x00-\xff]/gi)?t+=2:t+=1}return t},getZhLen:function(e){for(var t=0,r=0;r<e.length;r++){null!=e.charAt(r).match(/[^\x00-\xff]/gi)?t+=1:t+=.5}return Math.ceil(t)},cutStr:function(e,t,r){for(var o=0,a=0;a<e.length;a++){var s=e.charAt(a);if(1==r&&(encodeURI(s).length>2?o+=1:o+=.5),2==r&&(o+=1),o>=t){var n=o==t?a+1:a;return e.substr(0,n)}}},getByteVal:function(e,t){for(var r="",o=0,a=0;a<e.length&&(null!=e[a].match(/[^\x00-\xff]/gi)?o+=1:o+=.5,!(o>t));a++)r+=e[a];return r},getCharVal:function(e,t){for(var r="",o=0,a=0;a<e.length&&(null!=e[a].match(/[^\x00-\xff]/gi)?o+=2:o+=1,!(o>t));a++)r+=e[a];return r},regPos:function(e){return/^\d+(\.\d+)?$/.test(e)}}},Ml8i:function(e,t,r){"use strict";var o=r("JNAD"),a=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:o.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},n=function(e,t,r){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,n=/(\[[^[\]]*])/.exec(o),i=n?o.slice(0,n.index):o,l=[];if(i){if(!r.plainObjects&&a.call(Object.prototype,i)&&!r.allowPrototypes)return;l.push(i)}for(var c=0;null!==(n=s.exec(o))&&c<r.depth;){if(c+=1,!r.plainObjects&&a.call(Object.prototype,n[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(n[1])}return n&&l.push("["+o.slice(n.index)+"]"),function(e,t,r){for(var o=t,a=e.length-1;a>=0;--a){var s,n=e[a];if("[]"===n)s=(s=[]).concat(o);else{s=r.plainObjects?Object.create(null):{};var i="["===n.charAt(0)&&"]"===n.charAt(n.length-1)?n.slice(1,-1):n,l=parseInt(i,10);!isNaN(l)&&n!==i&&String(l)===i&&l>=0&&r.parseArrays&&l<=r.arrayLimit?(s=[])[l]=o:s[i]=o}o=s}return o}(l,t,r)}};e.exports=function(e,t){var r=t?o.assign({},t):{};if(null!==r.decoder&&void 0!==r.decoder&&"function"!=typeof r.decoder)throw new TypeError("Decoder has to be a function.");if(r.ignoreQueryPrefix=!0===r.ignoreQueryPrefix,r.delimiter="string"==typeof r.delimiter||o.isRegExp(r.delimiter)?r.delimiter:s.delimiter,r.depth="number"==typeof r.depth?r.depth:s.depth,r.arrayLimit="number"==typeof r.arrayLimit?r.arrayLimit:s.arrayLimit,r.parseArrays=!1!==r.parseArrays,r.decoder="function"==typeof r.decoder?r.decoder:s.decoder,r.allowDots="boolean"==typeof r.allowDots?r.allowDots:s.allowDots,r.plainObjects="boolean"==typeof r.plainObjects?r.plainObjects:s.plainObjects,r.allowPrototypes="boolean"==typeof r.allowPrototypes?r.allowPrototypes:s.allowPrototypes,r.parameterLimit="number"==typeof r.parameterLimit?r.parameterLimit:s.parameterLimit,r.strictNullHandling="boolean"==typeof r.strictNullHandling?r.strictNullHandling:s.strictNullHandling,""===e||null===e||void 0===e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?function(e,t){for(var r={},o=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,n=t.parameterLimit===1/0?void 0:t.parameterLimit,i=o.split(t.delimiter,n),l=0;l<i.length;++l){var c,u,d=i[l],g=d.indexOf("]="),p=-1===g?d.indexOf("="):g+1;-1===p?(c=t.decoder(d,s.decoder),u=t.strictNullHandling?null:""):(c=t.decoder(d.slice(0,p),s.decoder),u=t.decoder(d.slice(p+1),s.decoder)),a.call(r,c)?r[c]=[].concat(r[c]).concat(u):r[c]=u}return r}(e,r):e,l=r.plainObjects?Object.create(null):{},c=Object.keys(i),u=0;u<c.length;++u){var d=c[u],g=n(d,i[d],r);l=o.merge(l,g,r)}return o.compact(l)}},NUnD:function(e,t,r){var o=r("/KQr"),a=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return a.stringify.apply(a,arguments)}},P9l9:function(e,t,r){"use strict";r.d(t,"a",function(){return d}),r.d(t,"e",function(){return g}),r.d(t,"d",function(){return p}),r.d(t,"c",function(){return h}),r.d(t,"b",function(){return f});var o=r("rVsN"),a=r.n(o),s=r("lRwf"),n=r.n(s),i=r("6iV/"),l=r.n(i),c=r("Ip9M"),u=(r.n(c),window.location.origin);-1!=u.indexOf("localhost")&&(u="http://gicdev.demogic.com"),n.a.axios.interceptors.request.use(function(e){return e},function(e){return c.Message.error({message:"请求超时!"}),a.a.resolve(e)}),n.a.axios.interceptors.response.use(function(e){if(!e.status||200!=e.status||"error"!=e.data.status)return e;c.Message.error({message:e.data.msg})},function(e){return 504==e.response.status||404==e.response.status||e.response.status,a.a.resolve(e)});var d=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"get",url:""+u+e,data:{},params:t,headers:{"content-type":"application/x-www-form-urlencoded"}})},g=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+u+e,data:l.a.stringify(t),headers:{"content-type":"application/x-www-form-urlencoded"}})},p=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+u+e,data:"{}",params:t,headers:{"Content-Type":"application/json;charset=UTF-8"}})},h=function(e,t){return n.a.axios({method:"post",url:""+u+e,data:t,params:{requestProject:"gic-clique"},headers:{"Content-Type":"application/json;charset=UTF-8"}})},f=function(e,t){return t.requestProject="gic-clique",n.a.axios({method:"post",url:""+u+e,data:t,headers:{}})}},Vzx8:function(e,t){},fL6L:function(e,t,r){r("MKOc"),r("rYUz"),e.exports=r("9Pyf")},qFr1:function(e,t,r){"use strict";var o=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return o.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},yWzc:function(e,t){}});
//# sourceMappingURL=10.3b458f80443fff10d270.js.map